{"ast":null,"code":"var _jsxFileName = \"/home/actserv/Documents/brooks_insurance_agency_software/brooks-insurance-front-end/src/components/clients/addNewClient.js\";\nimport { useHistory } from 'react-router-dom';\nimport React, { useState, useContext, useEffect, useCallback } from 'react';\nimport { Grid, Container, Header, Icon, Form, Message, Button, Dropdown, Tab } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { DateInput } from 'semantic-ui-calendar-react';\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport { ClientContext } from '../../context/clients';\nimport { GET_CONTACT_PERSONS } from '../contactPersons/queries';\nimport { ADD_NEW_CLIENT, ADD_NEW_CORPORATE_CLIENT, GET_STATUS_OPTS } from './queries';\nimport * as yup from \"yup\";\nimport PhoneInput from 'react-phone-input-2';\nimport { AuthContext } from '../../context/auth';\nimport Contacts from './listContactPersons';\nimport StatusTypes from './statusTypes';\n\nfunction AddNewClient({\n  props\n}) {\n  const isProspective = False;\n  const authContext = useContext(AuthContext);\n  let history = useHistory();\n  const [errors, setErrors] = useState({\n    errorPaths: [],\n    errors: []\n  });\n  const [visible, setVisible] = useState(false);\n  const [corporateErrors, setCorporateErrors] = useState({\n    errorPaths: [],\n    errors: []\n  });\n  const context = useContext(ClientContext);\n  const [successMsg, setSuccessMsg] = useState();\n  const [responseErrors, setResponseErrors] = useState([]);\n  const [statusOpts, setStatusOpts] = useState();\n  const [contactPersonsExtras, setContactPersonsExtras] = useState({\n    search: \"\",\n    page: 1,\n    limit: 10\n  });\n  const [contactPersons, setContactPersons] = useState({});\n  const [corporateResponseErrors, setCorporateResponseErrors] = useState([]);\n  const [values, setValues] = useState({\n    updated: true,\n    afterSubmit: false,\n    contactPersons: []\n  });\n  const [corporateValues, setCorporateValues] = useState({\n    updated: true,\n    contactPersons: [],\n    afterSubmit: false\n  });\n  let schema = yup.object().shape({\n    email: yup.string().required(\"Please provide an email address\"),\n    firstName: yup.string().required(\"Please provide the first name\"),\n    lastName: yup.string().required(\"Please provide the last name\"),\n    phoneNumber: yup.string().required(\"Please provide a phone number\"),\n    town: yup.string().required(\"Please provide the town of residence\"),\n    status: yup.string().required(\"Please indicate status of client\"),\n    surname: yup.string().required(\"Please provide the surname\"),\n    dateOfBirth: yup.date().required(\"Please select the start date\"),\n    gender: yup.string().required(\"Please select the gender\"),\n    idNumber: yup.number().required(\"Please provide the ID number\"),\n    kraPin: yup.string().required(\"Please provide the KRA pin\").matches(/((\\d+[A-Z])|([A-Z]+\\d)[\\dA-Z]*)/, {\n      excludeEmptyString: true,\n      message: \"Enter a valid KRA pin\"\n    })\n  });\n  let corporateSchema = yup.object().shape({\n    name: yup.string().required(\"Please provide a name\"),\n    corporateStatus: yup.string().required(\"Please client status\"),\n    email: yup.string().required(\"Please provide an email\"),\n    postalAddress: yup.string().required(\"Please provide a postal address\"),\n    phoneNumber: yup.string().required(\"Please provide a phone number\"),\n    town: yup.string().required(\"Please provide the town of residence\"),\n    about: yup.string().required(\"Please provide the about\"),\n    kraPin: yup.string().matches(/((\\d+[A-Z])|([A-Z]+\\d)[\\dA-Z]*)/, {\n      excludeEmptyString: true,\n      message: \"Enter a valid KRA pin\"\n    }),\n    facebookAccount: yup.string().matches(/^(?:(?:http|https):\\/\\/)?(?:www.)?facebook.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[?\\w-]*\\/)?(?:profile.php\\?id=(?=\\d.*))?([\\w-]*)?/, {\n      excludeEmptyString: true,\n      message: \"Enter a valid Facebook URL\"\n    }) // instagramAccount: yup.string().matches(/^(?:(?:http|https):\\/\\/)?(?:www.)?instagram.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[?\\w-]*\\/)?(?:profile.php\\?id=(?=\\d.*))?([\\w-]*)?/, { excludeEmptyString: true, message: \"Enter a valid Instagram URL\" }),\n    // twitterAccount: yup.string().matches(/^(?:(?:http|https):\\/\\/)?(?:www.)?twitter.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[?\\w-]*\\/)?(?:profile.php\\?id=(?=\\d.*))?([\\w-]*)?/, { excludeEmptyString: true, message: \"Enter a valid Twitter URL\" }),\n    // linkedinAccount: yup.string().matches(/^https?://((www|\\w\\w)\\.)?linkedin.com/((in/[^/]+/?)|(pub/[^/]+/((\\w|\\d)+/?){3}))$/, { excludeEmptyString: true, message: \"Enter a valid LinkedIn URL\" }),\n\n  });\n  const {\n    data: statusOptsData\n  } = useQuery(GET_STATUS_OPTS);\n  useEffect(() => {\n    if (statusOptsData) {\n      setStatusOpts(statusOptsData.clientStatusOptions);\n    }\n  }, [statusOptsData, statusOpts]);\n  const {\n    data: contactPersonsData\n  } = useQuery(GET_CONTACT_PERSONS, {\n    variables: contactPersonsExtras\n  });\n  useEffect(() => {\n    if (contactPersonsData) {\n      setContactPersons(contactPersonsData.contactPersons);\n    }\n  }, [contactPersonsData]);\n  const [addCorporateClient] = useCallback(useMutation(ADD_NEW_CORPORATE_CLIENT, {\n    update(_, result) {\n      setVisible(false);\n      let clientData = result.data.createCorporateClient.corporateClient;\n      history.push({\n        pathname: `/staff/dashboard/corporate-client/profile/${clientData.id}`,\n        state: {\n          corporateClient: clientData,\n          clientId: clientData.id\n        }\n      });\n      setSuccessMsg('Successfully Registered New Client');\n    },\n\n    onError(err) {\n      try {\n        if (err.graphQLErrors) {\n          setCorporateResponseErrors(err.graphQLErrors[0].message);\n        }\n\n        if (err.networkError !== null && err.networkError !== 'undefined') {\n          setCorporateResponseErrors(err.networkError.result.errors[0]);\n        } else if (err.graphQLErrors !== null && err.networkError !== 'undefined') {\n          setCorporateResponseErrors(err.graphQLErrors.result.errors[0]);\n        }\n      } catch (e) {\n        setVisible(true);\n      }\n    },\n\n    variables: corporateValues\n  }));\n  const [addClient, {\n    loading\n  }] = useCallback(useMutation(ADD_NEW_CLIENT, {\n    update(_, result) {\n      context.registerClient(result.data);\n      setVisible(false);\n      let clientData = result.data.createIndividualClient.individualClient;\n      history.push({\n        pathname: `/staff/dashboard/clients/profile/${clientData.id}`,\n        state: {\n          user: clientData,\n          userId: clientData.id\n        }\n      });\n      setSuccessMsg('Successfully Registered New Client');\n    },\n\n    onError(err) {\n      try {\n        if (err.graphQLErrors) {\n          setResponseErrors(err.graphQLErrors[0].message);\n        }\n\n        if (err.networkError !== null && err.networkError !== 'undefined') {\n          setResponseErrors(err.networkError.result.errors[0]);\n        } else if (err.graphQLErrors !== null && err.networkError !== 'undefined') {\n          setResponseErrors(err.graphQLErrors.result.errors[0]);\n        }\n      } catch (e) {\n        setVisible(true);\n      }\n    },\n\n    variables: values\n  }));\n  const validate = useCallback(values => {\n    schema.validate(values, {\n      abortEarly: false\n    }).then(valid => setErrors({\n      errorPaths: [],\n      errors: []\n    })) //called if the entire form is valid\n    .catch(err => {\n      setErrors({\n        errors: err.errors,\n        errorPaths: err.inner.map(i => i.path)\n      });\n    });\n  }, [schema]);\n  const validateCorporate = useCallback(() => {\n    corporateSchema.validate(corporateValues, {\n      abortEarly: false\n    }).then(valid => setCorporateErrors({\n      errorPaths: [],\n      errors: []\n    })) //called if the entire form is valid\n    .catch(err => {\n      setCorporateErrors({\n        errors: err.errors,\n        errorPaths: err.inner.map(i => i.path)\n      });\n    });\n  }, [corporateSchema, corporateValues]);\n  useEffect(() => {\n    if (values.updated) {\n      setValues({ ...values,\n        updated: false\n      });\n\n      if (values.afterSubmit) {\n        validate(values);\n      }\n    }\n\n    if (corporateValues.updated) {\n      setCorporateValues({ ...corporateValues,\n        updated: false\n      });\n\n      if (corporateValues.afterSubmit) {\n        validateCorporate();\n      }\n    }\n  }, [values, validate, corporateValues, validateCorporate]);\n\n  const handleOnGenderChange = (e, {\n    value\n  }) => {\n    e.preventDefault();\n    setValues({ ...values,\n      gender: value,\n      updated: true\n    });\n  };\n\n  const onChange = useCallback((event, {\n    name,\n    value\n  }) => {\n    setValues({ ...values,\n      [name]: value,\n      updated: true\n    });\n  }, [values]);\n  const onCorporateChange = useCallback((event, {\n    name,\n    value\n  }) => {\n    setCorporateValues({ ...corporateValues,\n      [name]: value,\n      updated: true\n    });\n  }, [corporateValues]);\n\n  const handleOnContactSearch = e => {\n    setContactPersonsExtras({ ...contactPersonsExtras,\n      search: e.target.value\n    });\n  };\n\n  const handleOnContactChange = (e, {\n    value\n  }) => {\n    e.preventDefault();\n    setValues({ ...values,\n      contactPersons: value,\n      updated: true\n    });\n  };\n\n  const handleOnCorporateContactChange = (e, {\n    value\n  }) => {\n    e.preventDefault();\n    setCorporateValues({ ...corporateValues,\n      contactPersons: value,\n      updated: true\n    });\n  };\n\n  const handleOnStatusTypesChange = (e, {\n    value\n  }) => {\n    e.preventDefault();\n    console.log(value);\n\n    if (value === 'P') {\n      isProspective = true;\n    }\n\n    setValues({ ...values,\n      status: value,\n      updated: true\n    });\n  };\n\n  const handleOnCorporateStatusTypesChange = (e, {\n    value\n  }) => {\n    e.preventDefault();\n    console.log(value);\n\n    if (value === 'P') {\n      isProspective = True;\n    }\n\n    setCorporateValues({ ...corporateValues,\n      status: value,\n      updated: true\n    });\n  };\n\n  const handleDismiss = () => {\n    setVisible(false);\n    setSuccessMsg('');\n  };\n\n  const onPhoneNumberChange = useCallback(value => {\n    setValues({ ...values,\n      phoneNumber: \"+\" + value,\n      updated: true\n    });\n  }, [values]);\n  const onCorporatePhoneNumberChange = useCallback(value => {\n    setCorporateValues({ ...corporateValues,\n      phoneNumber: \"+\" + value,\n      updated: true\n    });\n  }, [corporateValues]);\n  const genderOptions = [{\n    key: 'F',\n    text: 'Female',\n    value: 'F'\n  }, {\n    key: 'M',\n    text: 'Male',\n    value: 'M'\n  }, {\n    key: 'O',\n    text: 'Other',\n    value: 'O'\n  }];\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setSuccessMsg('');\n    validate(values);\n    setValues({ ...values,\n      afterSubmit: true\n    });\n\n    if (Object.keys(values).length > 7 && !errors.errors.length) {\n      addClient();\n    }\n\n    setVisible(false);\n  };\n\n  const onCorporateSubmit = event => {\n    event.preventDefault();\n    setSuccessMsg('');\n    validateCorporate();\n    setCorporateValues({ ...corporateValues,\n      afterSubmit: true\n    });\n\n    if (Object.keys(corporateValues).length > 5 && !corporateErrors.errors.length) {\n      addCorporateClient();\n    }\n\n    setVisible(false);\n  };\n\n  const panes = [{\n    menuItem: \"Corporate Client\",\n    render: () => /*#__PURE__*/React.createElement(Grid.Column, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }\n    }, successMsg ? /*#__PURE__*/React.createElement(Message, {\n      positive: true,\n      onDismiss: handleDismiss,\n      header: \"status\",\n      content: successMsg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 25\n      }\n    }) : '', /*#__PURE__*/React.createElement(Form, {\n      onSubmit: onCorporateSubmit,\n      noValidate: true,\n      className: loading ? \"loading\" : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Message, {\n      visible: !!corporateErrors.errors.length || visible,\n      warning: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Message.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 33\n      }\n    }, \"Please correct the following issues:\"), !!corporateResponseErrors.length && /*#__PURE__*/React.createElement(Message, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 70\n      }\n    }, corporateResponseErrors), /*#__PURE__*/React.createElement(Message.List, {\n      items: corporateErrors.errors,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 34\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      widths: \"equal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: corporateErrors.errorPaths.includes('name'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 33\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Name\",\n      name: \"name\",\n      onChange: onCorporateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: corporateErrors.errorPaths.includes('email'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 33\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"email\",\n      name: \"email\",\n      onChange: onCorporateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: corporateErrors.errorPaths.includes('postalAddress'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 33\n      }\n    }, \"Postal Address\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Post Address\",\n      name: \"postalAddress\",\n      onChange: onCorporateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      widths: \"equal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      error: corporateErrors.errorPaths.includes('kraPin'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 33\n      }\n    }, \"KRA PIN Number\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"KRA PIN Number\",\n      name: \"kraPin\",\n      onChange: onCorporateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: corporateErrors.errorPaths.includes('phoneNumber'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(PhoneInput, {\n      inputExtraProps: {\n        name: \"phoneNumber\",\n        required: true,\n        autoFocus: true,\n        enableSearch: true\n      },\n      style: {\n        fontWeight: \"bold\"\n      },\n      name: \"phoneNumber\",\n      specialLabel: \"Phone Number *\",\n      country: \"ke\",\n      value: corporateValues.phoneNumber,\n      onChange: onCorporatePhoneNumberChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: corporateErrors.errorPaths.includes('town'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 33\n      }\n    }, \"Town\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Town\",\n      name: \"town\",\n      onChange: onCorporateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      widths: \"equal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: corporateErrors.errorPaths.includes('about'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 33\n      }\n    }, \"About\"), /*#__PURE__*/React.createElement(Form.TextArea, {\n      required: true,\n      placeholder: \"About the corporate client\",\n      name: \"about\",\n      onChange: onCorporateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 33\n      }\n    })), contactPersons.items && /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 54\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 33\n      }\n    }, \"Contact Person(s)\"), /*#__PURE__*/React.createElement(Contacts, {\n      multiple: true,\n      clients: contactPersons.items,\n      handleOnClientSearch: handleOnContactSearch,\n      handleOnClientChange: handleOnCorporateContactChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('corporateStatus'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 33\n      }\n    }, \"Client Status\"), statusOpts && statusOpts.statusOptions && /*#__PURE__*/React.createElement(StatusTypes, {\n      statusTypes: statusOpts.statusOptions,\n      handleOnStatusTypesChange: handleOnCorporateStatusTypesChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 76\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      widths: \"equal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      error: corporateErrors.errorPaths.includes('facebookAccount'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 33\n      }\n    }, \"Facebook Link\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Facebook Link\",\n      name: \"facebookAccount\",\n      onChange: onCorporateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      error: corporateErrors.errorPaths.includes('instagramAccount'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 33\n      }\n    }, \"Instagram Link\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Instagram Link\",\n      name: \"instagramAccount\",\n      onChange: onCorporateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      error: corporateErrors.errorPaths.includes('twitterAccount'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 33\n      }\n    }, \"Twitter Link\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Twitter Link\",\n      name: \"twitterAccount\",\n      onChange: onCorporateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      error: corporateErrors.errorPaths.includes('linkedinAccount'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 33\n      }\n    }, \"LinkedIn Link\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"LinkedIn Link\",\n      name: \"linkedinAccount\",\n      onChange: onCorporateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 25\n      }\n    }, \"Register Client\")))\n  }, {\n    menuItem: \"Individual Client\",\n    render: () => /*#__PURE__*/React.createElement(Grid.Column, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 17\n      }\n    }, successMsg ? /*#__PURE__*/React.createElement(Message, {\n      positive: true,\n      onDismiss: handleDismiss,\n      header: \"status\",\n      content: successMsg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 25\n      }\n    }) : '', /*#__PURE__*/React.createElement(Form, {\n      onSubmit: onSubmit,\n      noValidate: true,\n      className: loading ? \"loading\" : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Message, {\n      visible: !!errors.errors.length || visible,\n      warning: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Message.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 33\n      }\n    }, \"Please correct the following issues:\"), !!responseErrors.length && /*#__PURE__*/React.createElement(Message, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 61\n      }\n    }, responseErrors), /*#__PURE__*/React.createElement(Message.List, {\n      items: errors.errors,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 34\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      widths: \"equal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('firstName'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 33\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"First Name\",\n      name: \"firstName\",\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('lastName'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 33\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Last Name\",\n      name: \"lastName\",\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('surname'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 33\n      }\n    }, \"Other Name\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Other Name\",\n      name: \"surname\",\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 33\n      }\n    }, \"Postal Address\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Post Address\",\n      name: \"postalAddress\",\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      widths: \"equal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('kraPin'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 33\n      }\n    }, \"KRA PIN Number\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"KRA PIN Number\",\n      name: \"kraPin\",\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('firstName'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 33\n      }\n    }, \"Occupation\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Occupation\",\n      name: \"occupation\",\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('phoneNumber'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(PhoneInput, {\n      inputExtraProps: {\n        name: \"phoneNumber\",\n        required: true,\n        autoFocus: true,\n        enableSearch: true\n      },\n      style: {\n        fontWeight: \"bold\"\n      },\n      name: \"phoneNumber\",\n      specialLabel: \"Phone Number *\",\n      country: \"ke\",\n      value: values.phoneNumber,\n      onChange: onPhoneNumberChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('town'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 33\n      }\n    }, \"Residence (Town)\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Residence (Town)\",\n      name: \"town\",\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      widths: \"equal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('idNumber'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 33\n      }\n    }, \"ID Number\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"ID Number\",\n      name: \"idNumber\",\n      type: \"number\",\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('email'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 33\n      }\n    }, \"Email Address\"), /*#__PURE__*/React.createElement(Form.Input, {\n      fluid: true,\n      placeholder: \"Email Address\",\n      name: \"email\",\n      type: \"email\",\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('gender'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 33\n      }\n    }, \"Gender\"), /*#__PURE__*/React.createElement(Dropdown, {\n      placeholder: \"Select Gender\",\n      fluid: true,\n      selection: true,\n      onChange: handleOnGenderChange,\n      options: genderOptions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('dateOfBirth'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 33\n      }\n    }, \"Date Of Birth\"), /*#__PURE__*/React.createElement(DateInput, {\n      name: \"dateOfBirth\",\n      placeholder: \"Date Of Birth\",\n      popupPosition: \"bottom left\",\n      value: values.dateOfBirth ? values.dateOfBirth : \"\",\n      iconPosition: \"left\",\n      dateFormat: \"YYYY-MM-DD\",\n      maxDate: moment(),\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      widths: \"equal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 25\n      }\n    }, contactPersons.items && /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 54\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 33\n      }\n    }, \"Contact Person(s)\"), /*#__PURE__*/React.createElement(Contacts, {\n      multiple: true,\n      clients: contactPersons.items,\n      handleOnClientSearch: handleOnContactSearch,\n      handleOnClientChange: handleOnContactChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      required: true,\n      error: errors.errorPaths.includes('status'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 33\n      }\n    }, \"Client Status\"), statusOpts && statusOpts.statusOptions && /*#__PURE__*/React.createElement(StatusTypes, {\n      statusTypes: statusOpts.statusOptions,\n      handleOnStatusTypesChange: handleOnStatusTypesChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 76\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 25\n      }\n    }, \"Register Client\")))\n  }];\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    padded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    as: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Header.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/staff/dashboard/client-records\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 33\n    }\n  }, \"Client Records\"), \" \", '>', \" Register New Client\", /*#__PURE__*/React.createElement(Header.Subheader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 17\n    }\n  }, \"Hello there \", authContext.user.username, \", Fill in this form to register a new client\")))))), /*#__PURE__*/React.createElement(Tab, {\n    className: \"clear-top\",\n    menu: {\n      secondary: true,\n      pointing: true\n    },\n    panes: panes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 630,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default AddNewClient;","map":{"version":3,"sources":["/home/actserv/Documents/brooks_insurance_agency_software/brooks-insurance-front-end/src/components/clients/addNewClient.js"],"names":["useHistory","React","useState","useContext","useEffect","useCallback","Grid","Container","Header","Icon","Form","Message","Button","Dropdown","Tab","moment","DateInput","useMutation","useQuery","ClientContext","GET_CONTACT_PERSONS","ADD_NEW_CLIENT","ADD_NEW_CORPORATE_CLIENT","GET_STATUS_OPTS","yup","PhoneInput","AuthContext","Contacts","StatusTypes","AddNewClient","props","isProspective","False","authContext","history","errors","setErrors","errorPaths","visible","setVisible","corporateErrors","setCorporateErrors","context","successMsg","setSuccessMsg","responseErrors","setResponseErrors","statusOpts","setStatusOpts","contactPersonsExtras","setContactPersonsExtras","search","page","limit","contactPersons","setContactPersons","corporateResponseErrors","setCorporateResponseErrors","values","setValues","updated","afterSubmit","corporateValues","setCorporateValues","schema","object","shape","email","string","required","firstName","lastName","phoneNumber","town","status","surname","dateOfBirth","date","gender","idNumber","number","kraPin","matches","excludeEmptyString","message","corporateSchema","name","corporateStatus","postalAddress","about","facebookAccount","data","statusOptsData","clientStatusOptions","contactPersonsData","variables","addCorporateClient","update","_","result","clientData","createCorporateClient","corporateClient","push","pathname","id","state","clientId","onError","err","graphQLErrors","networkError","e","addClient","loading","registerClient","createIndividualClient","individualClient","user","userId","validate","abortEarly","then","valid","catch","inner","map","i","path","validateCorporate","handleOnGenderChange","value","preventDefault","onChange","event","onCorporateChange","handleOnContactSearch","target","handleOnContactChange","handleOnCorporateContactChange","handleOnStatusTypesChange","console","log","handleOnCorporateStatusTypesChange","True","handleDismiss","onPhoneNumberChange","onCorporatePhoneNumberChange","genderOptions","key","text","onSubmit","Object","keys","length","onCorporateSubmit","panes","menuItem","render","includes","autoFocus","enableSearch","fontWeight","items","statusOptions","username","secondary","pointing"],"mappings":"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","sourcesContent":["import { useHistory } from 'react-router-dom';\nimport React, { useState, useContext, useEffect, useCallback } from 'react';\nimport {\n    Grid,\n    Container,\n    Header,\n    Icon,\n    Form,\n    Message,\n    Button,\n    Dropdown,\n    Tab\n} from 'semantic-ui-react';\nimport moment from 'moment';\nimport { DateInput } from 'semantic-ui-calendar-react';\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport { ClientContext } from '../../context/clients';\nimport { GET_CONTACT_PERSONS } from '../contactPersons/queries';\nimport { ADD_NEW_CLIENT, ADD_NEW_CORPORATE_CLIENT, GET_STATUS_OPTS } from './queries'\nimport * as yup from \"yup\";\nimport PhoneInput from 'react-phone-input-2';\nimport { AuthContext } from '../../context/auth';\nimport Contacts from './listContactPersons';\nimport StatusTypes from './statusTypes';\n\n\nfunction AddNewClient({ props }) {\n    const isProspective=False;\n    const authContext = useContext(AuthContext);\n    let history = useHistory();\n\n    const [errors, setErrors] = useState({\n        errorPaths: [],\n        errors: []\n    });\n    const [visible, setVisible] = useState(false);\n    const [corporateErrors, setCorporateErrors] = useState({\n        errorPaths: [],\n        errors: []\n    });\n    const context = useContext(ClientContext);\n    const [successMsg, setSuccessMsg] = useState();\n    const [responseErrors, setResponseErrors] = useState([]);\n    const [statusOpts, setStatusOpts] = useState();\n    const [contactPersonsExtras, setContactPersonsExtras] = useState({\n        search: \"\", page: 1, limit: 10\n    });\n    const [contactPersons, setContactPersons] = useState({});\n    const [corporateResponseErrors, setCorporateResponseErrors] = useState([]);\n\n\n    const [values, setValues] = useState({\n        updated: true,\n        afterSubmit: false,\n        contactPersons: []\n    });\n    const [corporateValues, setCorporateValues] = useState({\n        updated: true,\n        contactPersons: [],\n        afterSubmit: false\n    });\n    let schema = yup.object().shape({\n        email: yup.string().required(\"Please provide an email address\"),\n        firstName: yup.string().required(\"Please provide the first name\"),\n        lastName: yup.string().required(\"Please provide the last name\"),\n        phoneNumber: yup.string().required(\"Please provide a phone number\"),\n        town: yup.string().required(\"Please provide the town of residence\"),\n        status: yup.string().required(\"Please indicate status of client\"),\n        surname: yup.string().required(\"Please provide the surname\"),\n        dateOfBirth: yup.date().required(\"Please select the start date\"),\n        gender: yup.string().required(\"Please select the gender\"),\n        idNumber: yup.number().required(\"Please provide the ID number\"),\n        kraPin: yup.string().required(\"Please provide the KRA pin\").matches(/((\\d+[A-Z])|([A-Z]+\\d)[\\dA-Z]*)/, { excludeEmptyString: true, message: \"Enter a valid KRA pin\" }),\n    });\n    let corporateSchema = yup.object().shape({\n        name: yup.string().required(\"Please provide a name\"),\n        corporateStatus: yup.string().required(\"Please client status\"),\n        email: yup.string().required(\"Please provide an email\"),\n        postalAddress: yup.string().required(\"Please provide a postal address\"),\n        phoneNumber: yup.string().required(\"Please provide a phone number\"),\n        town: yup.string().required(\"Please provide the town of residence\"),\n        about: yup.string().required(\"Please provide the about\"),\n        kraPin: yup.string().matches(/((\\d+[A-Z])|([A-Z]+\\d)[\\dA-Z]*)/, { excludeEmptyString: true, message: \"Enter a valid KRA pin\" }),\n        facebookAccount: yup.string().matches(/^(?:(?:http|https):\\/\\/)?(?:www.)?facebook.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[?\\w-]*\\/)?(?:profile.php\\?id=(?=\\d.*))?([\\w-]*)?/, { excludeEmptyString: true, message: \"Enter a valid Facebook URL\" }),\n        // instagramAccount: yup.string().matches(/^(?:(?:http|https):\\/\\/)?(?:www.)?instagram.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[?\\w-]*\\/)?(?:profile.php\\?id=(?=\\d.*))?([\\w-]*)?/, { excludeEmptyString: true, message: \"Enter a valid Instagram URL\" }),\n        // twitterAccount: yup.string().matches(/^(?:(?:http|https):\\/\\/)?(?:www.)?twitter.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[?\\w-]*\\/)?(?:profile.php\\?id=(?=\\d.*))?([\\w-]*)?/, { excludeEmptyString: true, message: \"Enter a valid Twitter URL\" }),\n        // linkedinAccount: yup.string().matches(/^https?://((www|\\w\\w)\\.)?linkedin.com/((in/[^/]+/?)|(pub/[^/]+/((\\w|\\d)+/?){3}))$/, { excludeEmptyString: true, message: \"Enter a valid LinkedIn URL\" }),\n    });\n\n    const { data: statusOptsData } = useQuery(GET_STATUS_OPTS);\n    useEffect(() => {\n        if (statusOptsData) {\n            setStatusOpts(statusOptsData.clientStatusOptions);\n        }\n    }, [statusOptsData, statusOpts]);\n\n\n    const { data: contactPersonsData } = useQuery(GET_CONTACT_PERSONS, {\n        variables: contactPersonsExtras\n    });\n    useEffect(() => {\n        if (contactPersonsData) {\n            setContactPersons(contactPersonsData.contactPersons)\n        }\n    }, [contactPersonsData])\n\n    const [addCorporateClient] = useCallback(useMutation(ADD_NEW_CORPORATE_CLIENT, {\n        update(_, result) {\n            setVisible(false);\n            let clientData = result.data.createCorporateClient.corporateClient\n            history.push({\n                pathname: `/staff/dashboard/corporate-client/profile/${clientData.id}`,\n                state: { corporateClient: clientData, clientId: clientData.id }\n            })\n\n            setSuccessMsg('Successfully Registered New Client');\n        },\n        onError(err) {\n            try {\n\n                if (err.graphQLErrors) {\n                    setCorporateResponseErrors(err.graphQLErrors[0].message);\n                }\n\n                if (err.networkError !== null && err.networkError !== 'undefined') {\n\n                    setCorporateResponseErrors(err.networkError.result.errors[0]);\n\n                } else if (err.graphQLErrors !== null && err.networkError !== 'undefined') {\n\n                    setCorporateResponseErrors(err.graphQLErrors.result.errors[0]);\n\n                }\n            } catch (e) {\n                setVisible(true);\n            }\n\n        },\n        variables: corporateValues\n    }));\n    const [addClient, { loading }] = useCallback(useMutation(ADD_NEW_CLIENT, {\n        update(_, result) {\n            context.registerClient(result.data);\n            setVisible(false);\n            let clientData = result.data.createIndividualClient.individualClient\n            history.push({\n                pathname: `/staff/dashboard/clients/profile/${clientData.id}`,\n                state: { user: clientData, userId: clientData.id }\n            })\n\n            setSuccessMsg('Successfully Registered New Client');\n        },\n        onError(err) {\n            try {\n                if (err.graphQLErrors) {\n                    setResponseErrors(err.graphQLErrors[0].message);\n                }\n\n                if (err.networkError !== null && err.networkError !== 'undefined') {\n\n                    setResponseErrors(err.networkError.result.errors[0]);\n\n                } else if (err.graphQLErrors !== null && err.networkError !== 'undefined') {\n\n                    setResponseErrors(err.graphQLErrors.result.errors[0]);\n\n                }\n            } catch (e) {\n                setVisible(true);\n            }\n\n        },\n        variables: values\n    }));\n\n    const validate = useCallback((values) => {\n        schema.validate(values, { abortEarly: false })\n            .then(valid => setErrors({ errorPaths: [], errors: [] })) //called if the entire form is valid\n            .catch(err => {\n                setErrors({ errors: err.errors, errorPaths: err.inner.map(i => i.path) })\n            })\n    }, [schema])\n\n    const validateCorporate = useCallback(() => {\n        corporateSchema.validate(corporateValues, { abortEarly: false })\n            .then(valid => setCorporateErrors({ errorPaths: [], errors: [] })) //called if the entire form is valid\n            .catch(err => {\n                setCorporateErrors({ errors: err.errors, errorPaths: err.inner.map(i => i.path) })\n            })\n    }, [corporateSchema, corporateValues])\n\n    useEffect(() => {\n        if (values.updated) {\n            setValues({ ...values, updated: false })\n            if (values.afterSubmit) {\n                validate(values)\n            }\n        }\n        if (corporateValues.updated) {\n            setCorporateValues({ ...corporateValues, updated: false })\n            if (corporateValues.afterSubmit) {\n                validateCorporate()\n            }\n        }\n    }, [values, validate, corporateValues, validateCorporate])\n    const handleOnGenderChange = (e, { value }) => {\n        e.preventDefault()\n        setValues({ ...values, gender: value, updated: true });\n    }\n    const onChange = useCallback((event, { name, value }) => {\n        setValues({ ...values, [name]: value, updated: true });\n    }, [values])\n    const onCorporateChange = useCallback((event, { name, value }) => {\n        setCorporateValues({ ...corporateValues, [name]: value, updated: true });\n    }, [corporateValues])\n\n    const handleOnContactSearch = (e) => {\n        setContactPersonsExtras({ ...contactPersonsExtras, search: e.target.value });\n    }\n    const handleOnContactChange = (e, { value }) => {\n        e.preventDefault()\n        setValues({ ...values, contactPersons: value, updated: true });\n    }\n    const handleOnCorporateContactChange = (e, { value }) => {\n        e.preventDefault()\n        setCorporateValues({ ...corporateValues, contactPersons: value, updated: true });\n    }\n\n    const handleOnStatusTypesChange = (e, { value }) => {\n        e.preventDefault()\n        console.log(value);\n        if (value === 'P'){\n            isProspective=true;\n        }\n        setValues({ ...values, status: value, updated: true });\n    }\n    \n    const handleOnCorporateStatusTypesChange = (e, { value }) => {\n        e.preventDefault()\n        console.log(value);    \n        if (value === 'P'){\n            isProspective=True\n        }\n        setCorporateValues({ ...corporateValues, status: value, updated: true });\n    }\n\n    const handleDismiss = () => {\n        setVisible(false);\n        setSuccessMsg('');\n    }\n    const onPhoneNumberChange = useCallback((value) => {\n        setValues({ ...values, phoneNumber: \"+\" + value, updated: true });\n    }, [values])\n    const onCorporatePhoneNumberChange = useCallback((value) => {\n        setCorporateValues({ ...corporateValues, phoneNumber: \"+\" + value, updated: true });\n    }, [corporateValues])\n    const genderOptions = [\n        {\n            key: 'F',\n            text: 'Female',\n            value: 'F',\n        },\n        {\n            key: 'M',\n            text: 'Male',\n            value: 'M',\n        },\n        {\n            key: 'O',\n            text: 'Other',\n            value: 'O',\n        }\n    ]\n    const onSubmit = (event) => {\n        event.preventDefault();\n        setSuccessMsg('');\n        validate(values)\n        setValues({ ...values, afterSubmit: true })\n        if (Object.keys(values).length > 7 && !errors.errors.length) { addClient() }\n        setVisible(false);\n    }\n    const onCorporateSubmit = (event) => {\n        event.preventDefault();\n        setSuccessMsg('');\n        validateCorporate()\n        setCorporateValues({ ...corporateValues, afterSubmit: true })\n        if (Object.keys(corporateValues).length > 5 && !corporateErrors.errors.length) { addCorporateClient() }\n        setVisible(false);\n    }\n    const panes = [\n\n        {\n            menuItem: \"Corporate Client\",\n            render: () =>\n                <Grid.Column>\n                    {successMsg ?\n                        <Message\n                            positive\n                            onDismiss={handleDismiss}\n                            header='status'\n                            content={successMsg} /> :\n                        ''}\n\n                    <Form onSubmit={onCorporateSubmit} noValidate className={loading ? \"loading\" : ''}>\n                        <Form.Group>\n                            <Message visible={!!corporateErrors.errors.length || visible} warning>\n                                <Message.Header>Please correct the following issues:</Message.Header>\n                                {!!corporateResponseErrors.length && <Message>{corporateResponseErrors}</Message>}\n                                {<Message.List items={corporateErrors.errors} />}\n                            </Message>\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={corporateErrors.errorPaths.includes('name')}>\n                                <label>Name</label>\n                                <Form.Input\n                                    fluid\n                                    placeholder='Name'\n                                    name='name'\n                                    onChange={onCorporateChange}\n                                />\n                            </Form.Field>\n                            <Form.Field required error={corporateErrors.errorPaths.includes('email')}>\n                                <label>Email</label>\n                                <Form.Input fluid placeholder='email'\n                                    name='email'\n                                    onChange={onCorporateChange}\n\n                                />\n                            </Form.Field>\n                            <Form.Field required error={corporateErrors.errorPaths.includes('postalAddress')}>\n                                <label>Postal Address</label>\n                                <Form.Input fluid placeholder='Post Address'\n                                    name='postalAddress'\n                                    onChange={onCorporateChange}\n                                />\n                            </Form.Field>\n\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field error={corporateErrors.errorPaths.includes('kraPin')}>\n                                <label>KRA PIN Number</label>\n                                <Form.Input fluid placeholder='KRA PIN Number'\n                                    name='kraPin'\n                                    onChange={onCorporateChange}\n\n                                />\n                            </Form.Field>\n                            <Form.Field required error={corporateErrors.errorPaths.includes('phoneNumber')}>\n\n                                <PhoneInput\n                                    inputExtraProps={{\n                                        name: \"phoneNumber\",\n                                        required: true,\n                                        autoFocus: true,\n                                        enableSearch: true\n                                    }}\n                                    style={{ fontWeight: \"bold\" }}\n                                    name='phoneNumber'\n                                    specialLabel='Phone Number *'\n                                    country={\"ke\"}\n                                    value={corporateValues.phoneNumber}\n                                    onChange={onCorporatePhoneNumberChange}\n                                />\n                            </Form.Field>\n                            <Form.Field required error={corporateErrors.errorPaths.includes('town')}>\n                                <label>Town</label>\n                                <Form.Input\n                                    fluid placeholder='Town'\n                                    name='town'\n                                    onChange={onCorporateChange}\n\n                                />\n                            </Form.Field>\n\n                        </Form.Group>\n                        <Form.Group widths=\"equal\">\n                            <Form.Field required error={corporateErrors.errorPaths.includes('about')}>\n                                <label>About</label>\n                                <Form.TextArea\n                                    required\n                                    placeholder='About the corporate client'\n                                    name='about'\n                                    onChange={onCorporateChange}\n\n                                />\n                            </Form.Field>\n                            {contactPersons.items && <Form.Field>\n                                <label>Contact Person(s)</label>\n                                <Contacts\n                                    multiple={true}\n                                    clients={contactPersons.items}\n                                    handleOnClientSearch={handleOnContactSearch}\n                                    handleOnClientChange={handleOnCorporateContactChange}\n                                />\n                            </Form.Field>}\n                            <Form.Field required error={errors.errorPaths.includes('corporateStatus')}>\n                                <label>Client Status</label>\n                                {statusOpts && statusOpts.statusOptions && <StatusTypes\n                                    statusTypes={statusOpts.statusOptions}\n                                    handleOnStatusTypesChange={handleOnCorporateStatusTypesChange}\n                                />}\n                            </Form.Field>\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field error={corporateErrors.errorPaths.includes('facebookAccount')}>\n                                <label>Facebook Link</label>\n                                <Form.Input fluid placeholder='Facebook Link'\n                                    name='facebookAccount'\n                                    onChange={onCorporateChange}\n\n                                />\n                            </Form.Field>\n                            <Form.Field error={corporateErrors.errorPaths.includes('instagramAccount')}>\n                                <label>Instagram Link</label>\n                                <Form.Input fluid placeholder='Instagram Link'\n                                    name='instagramAccount'\n                                    onChange={onCorporateChange}\n\n                                />\n                            </Form.Field>\n                            <Form.Field error={corporateErrors.errorPaths.includes('twitterAccount')}>\n                                <label>Twitter Link</label>\n                                <Form.Input fluid placeholder='Twitter Link'\n                                    name='twitterAccount'\n                                    onChange={onCorporateChange}\n\n                                />\n                            </Form.Field>\n                            <Form.Field error={corporateErrors.errorPaths.includes('linkedinAccount')}>\n                                <label>LinkedIn Link</label>\n                                <Form.Input\n                                    fluid placeholder='LinkedIn Link'\n                                    name='linkedinAccount'\n                                    onChange={onCorporateChange}\n\n                                />\n                            </Form.Field>\n                        </Form.Group>\n\n\n                        <Button type='submit'>Register Client</Button>\n\n                    </Form>\n                </Grid.Column>\n\n        },\n        {\n            menuItem: \"Individual Client\",\n            render: () =>\n                <Grid.Column>\n                    {successMsg ?\n                        <Message\n                            positive\n                            onDismiss={handleDismiss}\n                            header='status'\n                            content={successMsg} /> :\n                        ''}\n\n                    <Form onSubmit={onSubmit} noValidate className={loading ? \"loading\" : ''}>\n                        <Form.Group>\n                            <Message visible={!!errors.errors.length || visible} warning>\n                                <Message.Header>Please correct the following issues:</Message.Header>\n                                {!!responseErrors.length && <Message>{responseErrors}</Message>}\n                                {<Message.List items={errors.errors} />}\n                            </Message>\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={errors.errorPaths.includes('firstName')}>\n                                <label>First Name</label>\n                                <Form.Input\n                                    fluid\n                                    placeholder='First Name'\n                                    name='firstName'\n                                    onChange={onChange}\n                                />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('lastName')}>\n                                <label>Last Name</label>\n                                <Form.Input fluid placeholder='Last Name'\n                                    name='lastName'\n                                    onChange={onChange}\n\n                                />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('surname')}>\n                                <label>Other Name</label>\n                                <Form.Input fluid placeholder='Other Name'\n                                    name='surname'\n                                    onChange={onChange}\n                                />\n                            </Form.Field>\n                            <Form.Field>\n                                <label>Postal Address</label>\n                                <Form.Input fluid placeholder='Post Address'\n                                    name='postalAddress'\n                                    onChange={onChange}\n                                />\n                            </Form.Field>\n\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={errors.errorPaths.includes('kraPin')}>\n                                <label>KRA PIN Number</label>\n                                <Form.Input fluid placeholder='KRA PIN Number'\n                                    name='kraPin'\n                                    onChange={onChange}\n\n                                />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('firstName')}>\n                                <label>Occupation</label>\n                                <Form.Input fluid placeholder='Occupation'\n                                    name='occupation'\n                                    onChange={onChange}\n\n                                />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('phoneNumber')}>\n                                <PhoneInput\n                                    inputExtraProps={{\n                                        name: \"phoneNumber\",\n                                        required: true,\n                                        autoFocus: true,\n                                        enableSearch: true\n                                    }}\n                                    style={{ fontWeight: \"bold\" }}\n                                    name='phoneNumber'\n                                    specialLabel='Phone Number *'\n                                    country={\"ke\"}\n                                    value={values.phoneNumber}\n                                    onChange={onPhoneNumberChange}\n                                />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('town')}>\n                                <label>Residence (Town)</label>\n                                <Form.Input\n                                    fluid placeholder='Residence (Town)'\n                                    name='town'\n                                    onChange={onChange}\n\n                                />\n                            </Form.Field>\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={errors.errorPaths.includes('idNumber')}>\n                                <label>ID Number</label>\n                                <Form.Input fluid placeholder='ID Number'\n                                    name='idNumber'\n                                    type=\"number\"\n                                    onChange={onChange}\n\n                                />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('email')}>\n                                <label>Email Address</label>\n                                <Form.Input fluid placeholder='Email Address'\n                                    name='email'\n                                    type=\"email\"\n                                    onChange={onChange}\n\n                                />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('gender')}>\n                                <label>Gender</label>\n                                <Dropdown\n                                    placeholder='Select Gender'\n                                    fluid\n                                    selection\n                                    onChange={handleOnGenderChange}\n                                    options={genderOptions}\n                                />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('dateOfBirth')}>\n                                <label>Date Of Birth</label>\n\n                                <DateInput\n                                    name=\"dateOfBirth\"\n                                    placeholder=\"Date Of Birth\"\n                                    popupPosition=\"bottom left\"\n                                    value={values.dateOfBirth ? values.dateOfBirth : \"\"}\n                                    iconPosition=\"left\"\n                                    dateFormat=\"YYYY-MM-DD\"\n                                    maxDate={moment()}\n                                    onChange={onChange}\n                                />\n                            </Form.Field>\n                        </Form.Group>\n                        <Form.Group widths=\"equal\">\n                            {contactPersons.items && <Form.Field>\n                                <label>Contact Person(s)</label>\n                                <Contacts\n                                    multiple={true}\n                                    clients={contactPersons.items}\n                                    handleOnClientSearch={handleOnContactSearch}\n                                    handleOnClientChange={handleOnContactChange}\n                                />\n                            </Form.Field>}\n                            <Form.Field required error={errors.errorPaths.includes('status')}>\n                                <label>Client Status</label>\n                                {statusOpts && statusOpts.statusOptions && <StatusTypes\n                                    statusTypes={statusOpts.statusOptions}\n                                    handleOnStatusTypesChange={handleOnStatusTypesChange}\n                                />}\n                            </Form.Field>\n                        </Form.Group>\n                        <Button type='submit'>Register Client</Button>\n\n                    </Form>\n                </Grid.Column>\n\n        }\n    ]\n    return (\n        <Container>\n            <Grid container padded>\n                <Grid.Column>\n                    <div className=\"content-wrapper\">\n                        <Header as='h2'>\n                            <Icon name='settings' />\n                            <Header.Content>\n                                <a href=\"/staff/dashboard/client-records\">Client Records</a> {'>'} Register New Client\n                <Header.Subheader>\n                                    Hello there {authContext.user.username}, Fill in this form to register a new client\n                </Header.Subheader>\n                            </Header.Content>\n                        </Header>\n                    </div>\n                </Grid.Column>\n            </Grid>\n            <Tab className='clear-top' menu={{ secondary: true, pointing: true }} panes={panes} />\n        </Container>\n    )\n}\n\nexport default AddNewClient;"]},"metadata":{},"sourceType":"module"}