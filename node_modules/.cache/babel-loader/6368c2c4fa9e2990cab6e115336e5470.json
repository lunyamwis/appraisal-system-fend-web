{"ast":null,"code":"var _jsxFileName = \"/home/actserv/Documents/brooks_insurance_agency_software/brooks-insurance-front-end/src/components/common/layout.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Menu, Segment, Image, Dropdown, Sidebar, Button, Grid } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport logo from './brooks.png';\nimport { AuthContext } from '../../context/auth';\nimport BaseRouter from '../../routes';\nexport default function Layout(props) {\n  const [activeItem, setActiveItem] = useState({});\n  const [isHome, setIsHome] = useState(false);\n  const context = useContext(AuthContext);\n  useEffect(() => {\n    if (window.location.pathname === \"/\") setIsHome(true);\n  }, []);\n\n  const onClickHandler = () => {\n    window.location.href = \"/\";\n  }; // console.log(props)\n\n\n  const [visible, setVisible] = useState(false);\n\n  const handleHideClick = () => setVisible(false);\n\n  const handleShowClick = () => setVisible(true);\n\n  const handleSidebarHide = () => setVisible(false);\n\n  const handleItemClick = (e, {\n    name\n  }) => {\n    setActiveItem({\n      activeItem: name\n    });\n    setVisible(false);\n  };\n\n  const trigger = /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, context.user ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    avatar: true,\n    src: context.user.imageUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }), \" \", context.user.username) : '');\n  const options = [{\n    key: 'user',\n    text: 'Account',\n    icon: 'user',\n    value: 'staff/profile'\n  }, {\n    key: 'settings',\n    text: 'Settings',\n    icon: 'settings',\n    value: 'staff/settings'\n  }, {\n    key: 'sign-out',\n    text: 'Sign Out',\n    icon: 'sign out',\n    value: 'logout'\n  }];\n\n  const handleDropdown = (event, data) => {\n    switch (data.value) {\n      case 'logout':\n        onClickHandler();\n        context.logout();\n        break;\n\n      default:\n        return data.value;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Segment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    columns: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    secondary: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, context.user && !isHome && /*#__PURE__*/React.createElement(Menu.Item, {\n    position: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: visible,\n    onClick: handleShowClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  }, \"Menu\"))), context.user && !isHome && (context.user.roles && context.user.roles.includes(\"admin\") || context.user.tokenAuth && context.user.tokenAuth.user.roles.includes(\"admin\")) && /*#__PURE__*/React.createElement(Menu.Item, {\n    name: \"dashboard\",\n    active: activeItem === 'dashboard',\n    onClick: handleItemClick,\n    as: Link,\n    to: \"/admin/dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }), context.user && !isHome && /*#__PURE__*/React.createElement(Menu.Item, {\n    name: \"records\",\n    active: activeItem === 'records',\n    onClick: handleItemClick,\n    as: Link,\n    to: \"/staff/dashboard/overview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }), context.user && !isHome && /*#__PURE__*/React.createElement(Menu.Item, {\n    name: \"billing\",\n    active: activeItem === 'billing',\n    onClick: handleItemClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }), context.user && !isHome && /*#__PURE__*/React.createElement(Menu.Item, {\n    name: \"reports\",\n    active: activeItem === 'reports',\n    onClick: handleItemClick,\n    position: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }), context.user && !isHome && /*#__PURE__*/React.createElement(Menu.Item, {\n    name: \"receipts\",\n    active: activeItem === 'receipts',\n    onClick: handleItemClick,\n    position: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Image, {\n    src: logo,\n    size: \"small\",\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }), context.user && !isHome && /*#__PURE__*/React.createElement(Menu.Item, {\n    position: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    trigger: trigger,\n    options: options,\n    pointing: \"top right\",\n    icon: null,\n    onChange: handleDropdown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Sidebar.Pushable, {\n    as: Segment,\n    style: {\n      minHeight: \"calc(100vh - 170px)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    as: Menu,\n    style: {\n      background: \"white\"\n    },\n    animation: \"overlay\",\n    icon: \"labeled\",\n    inverted: true,\n    className: \"ui primary\",\n    onHide: handleSidebarHide,\n    vertical: true,\n    visible: visible,\n    width: \"thin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    style: {\n      color: \"black\",\n      textAlign: \"left\"\n    },\n    as: Link,\n    to: \"/\",\n    onClick: handleHideClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    style: {\n      color: \"black\",\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/staff/dashboard/client-records\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, \"Clients\")), /*#__PURE__*/React.createElement(Menu.Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    style: {\n      color: \"black\",\n      textAlign: \"left\"\n    },\n    name: \"list-clients\",\n    as: Link,\n    to: \"/staff/dashboard/client-records\",\n    active: activeItem === 'list-clients',\n    onClick: handleItemClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Menu.Item, {\n    style: {\n      color: \"black\",\n      textAlign: \"left\"\n    },\n    name: \"create-client\",\n    as: Link,\n    to: \"/staff/dashboard/add-new-client\",\n    active: activeItem === 'create-client',\n    onClick: handleItemClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Menu.Item, {\n    style: {\n      color: \"black\",\n      textAlign: \"left\"\n    },\n    name: \"create-contact-person\",\n    as: Link,\n    to: \"/staff/dashboard/add-new-contact-person\",\n    active: activeItem === 'create-contact-person',\n    onClick: handleItemClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Menu.Item, {\n    style: {\n      color: \"black\",\n      textAlign: \"left\"\n    },\n    name: \"list-contact-persons\",\n    as: Link,\n    to: \"/staff/dashboard/contact-person-records\",\n    active: activeItem === 'list-contact-persons',\n    onClick: handleItemClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Menu.Item, {\n    style: {\n      color: \"black\",\n      textAlign: \"left\"\n    },\n    name: \"receipts\",\n    as: Link,\n    to: \"/staff/dashboard/receipt/view-receipts\",\n    active: activeItem === 'view-receipts',\n    onClick: handleItemClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Menu.Item, {\n    style: {\n      color: \"black\",\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/staff/dashboard/policies\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 19\n    }\n  }, \"Policies\")), /*#__PURE__*/React.createElement(Menu.Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    style: {\n      color: \"black\",\n      textAlign: \"left\"\n    },\n    name: \"motor-policy\",\n    as: Link,\n    to: \"/staff/dashboard/policies/general/motor\",\n    active: activeItem === 'motor-policy',\n    onClick: handleItemClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Menu.Item, {\n    style: {\n      color: \"black\",\n      textAlign: \"left\"\n    },\n    name: \"add-motor-policy\",\n    as: Link,\n    to: \"/staff/dashboard/add-new-motor-policy\",\n    active: activeItem === 'add-motor-policy',\n    onClick: handleItemClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(Sidebar.Pusher, {\n    dimmed: visible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BaseRouter, {\n    props: props,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"sources":["/home/actserv/Documents/brooks_insurance_agency_software/brooks-insurance-front-end/src/components/common/layout.js"],"names":["React","useState","useContext","useEffect","Menu","Segment","Image","Dropdown","Sidebar","Button","Grid","Link","logo","AuthContext","BaseRouter","Layout","props","activeItem","setActiveItem","isHome","setIsHome","context","window","location","pathname","onClickHandler","href","visible","setVisible","handleHideClick","handleShowClick","handleSidebarHide","handleItemClick","e","name","trigger","user","imageUrl","username","options","key","text","icon","value","handleDropdown","event","data","logout","roles","includes","tokenAuth","minHeight","background","color","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Menu, Segment, Image, Dropdown, Sidebar, Button, Grid } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport logo from './brooks.png';\nimport { AuthContext } from '../../context/auth';\nimport BaseRouter from '../../routes';\n\nexport default function Layout(props) {\n  const [activeItem, setActiveItem] = useState({});\n  const [isHome, setIsHome] = useState(false);\n  const context = useContext(AuthContext);\n\n  useEffect(() => { if (window.location.pathname === \"/\") (setIsHome(true)) }, [])\n  const onClickHandler = () => {\n    window.location.href = \"/\"\n  }\n  // console.log(props)\n  const [visible, setVisible] = useState(false)\n  const handleHideClick = () => setVisible(false)\n  const handleShowClick = () => setVisible(true)\n  const handleSidebarHide = () => setVisible(false)\n  const handleItemClick = (e, { name }) => {\n    setActiveItem({ activeItem: name })\n    setVisible(false)\n  }\n  const trigger = (\n    <span>\n      {context.user ?\n        <div>\n          <Image avatar src={context.user.imageUrl} /> {context.user.username}\n        </div>\n        :\n        ''\n      }\n    </span>\n  )\n\n  const options = [\n    { key: 'user', text: 'Account', icon: 'user', value: 'staff/profile' },\n    { key: 'settings', text: 'Settings', icon: 'settings', value: 'staff/settings' },\n    { key: 'sign-out', text: 'Sign Out', icon: 'sign out', value: 'logout' },\n  ]\n\n  const handleDropdown = (event, data) => {\n    switch (data.value) {\n      case 'logout':\n        onClickHandler();\n        context.logout();\n        break\n      default:\n        return data.value\n    }\n  }\n  return (\n    <Segment>\n      <Grid columns={1}>\n        <Grid.Column>\n          <Menu secondary>\n            {context.user && !isHome &&\n              <Menu.Item position='left'>\n                <Grid.Column>\n\n                  <Button disabled={visible} onClick={handleShowClick}>\n                    Menu\n              </Button>\n                </Grid.Column>\n              </Menu.Item>}\n            {context.user && !isHome && ((context.user.roles && context.user.roles.includes(\"admin\")) || (context.user.tokenAuth && context.user.tokenAuth.user.roles.includes(\"admin\"))) &&\n              <Menu.Item\n                name='dashboard'\n                active={activeItem === 'dashboard'}\n                onClick={handleItemClick}\n                as={Link}\n                to=\"/admin/dashboard\"\n              />}\n            {context.user && !isHome &&\n              <Menu.Item\n                name='records'\n                active={activeItem === 'records'}\n                onClick={handleItemClick}\n                as={Link}\n                to=\"/staff/dashboard/overview\"\n              />}\n            {context.user && !isHome &&\n              <Menu.Item\n                name='billing'\n                active={activeItem === 'billing'}\n                onClick={handleItemClick}\n              />}\n            {context.user && !isHome &&\n              <Menu.Item\n                name='reports'\n                active={activeItem === 'reports'}\n                onClick={handleItemClick}\n                position='left'\n              />}\n            {context.user && !isHome &&\n              <Menu.Item\n                name='receipts'\n                active={activeItem === 'receipts'}\n                onClick={handleItemClick}\n                position='left'\n                \n              />}\n            <Image src={logo} size='small' href='/' />\n\n            {context.user && !isHome && <Menu.Item position='right'>\n              <Dropdown\n                trigger={trigger}\n                options={options}\n                pointing='top right'\n                icon={null}\n                onChange={handleDropdown}\n              />\n            </Menu.Item>\n            }\n          </Menu>\n          <Sidebar.Pushable as={Segment} style={{ minHeight: \"calc(100vh - 170px)\" }}>\n            <Sidebar\n              as={Menu}\n              style={{ background: \"white\" }}\n              animation='overlay'\n              icon='labeled'\n              inverted\n              className=\"ui primary\"\n              onHide={handleSidebarHide}\n              vertical\n              visible={visible}\n              width='thin'>\n              <Menu.Item\n                style={{ color: \"black\", textAlign: \"left\" }}\n                as={Link} to=\"/\" onClick={handleHideClick}>\n                {/* <Icon name='home' /> */}\n                            Home\n                    </Menu.Item>\n              <Menu.Item\n                style={{ color: \"black\", textAlign: \"left\" }}>\n                <Menu.Header>\n                  {/* <Icon name='users' /> */}\n                  <Link to=\"/staff/dashboard/client-records\">Clients</Link></Menu.Header>\n                <Menu.Menu>\n                  <Menu.Item\n                    style={{ color: \"black\", textAlign: \"left\" }}\n                    name='list-clients'\n                    as={Link} to=\"/staff/dashboard/client-records\"\n                    active={activeItem === 'list-clients'}\n                    onClick={handleItemClick}\n                  />\n                  <Menu.Item\n                    style={{ color: \"black\", textAlign: \"left\" }}\n                    name='create-client'\n                    as={Link} to=\"/staff/dashboard/add-new-client\"\n                    active={activeItem === 'create-client'}\n                    onClick={handleItemClick}\n                  />\n                  <Menu.Item\n                    style={{ color: \"black\", textAlign: \"left\" }}\n                    name='create-contact-person'\n                    as={Link} to=\"/staff/dashboard/add-new-contact-person\"\n                    active={activeItem === 'create-contact-person'}\n                    onClick={handleItemClick}\n                  />\n                  <Menu.Item\n                    style={{ color: \"black\", textAlign: \"left\" }}\n                    name='list-contact-persons'\n                    as={Link} to=\"/staff/dashboard/contact-person-records\"\n                    active={activeItem === 'list-contact-persons'}\n                    onClick={handleItemClick}\n                  />\n                  <Menu.Item\n                    style={{ color: \"black\", textAlign: \"left\" }}\n                    name='receipts'\n                    as={Link} to=\"/staff/dashboard/receipt/view-receipts\"\n                    active={activeItem === 'view-receipts'}\n                    onClick={handleItemClick}\n                  />\n                </Menu.Menu>\n                \n                \n              </Menu.Item>\n              <Menu.Item\n                style={{ color: \"black\", textAlign: \"left\" }}>\n                <Menu.Header>\n                  {/* <Icon name='suitcase' /> */}\n                  <Link to=\"/staff/dashboard/policies\">Policies</Link></Menu.Header>\n                <Menu.Menu>\n                  <Menu.Item\n                    style={{ color: \"black\", textAlign: \"left\" }}\n                    name='motor-policy'\n                    as={Link} to=\"/staff/dashboard/policies/general/motor\"\n                    active={activeItem === 'motor-policy'}\n                    onClick={handleItemClick}\n                  />\n                  <Menu.Item\n                    style={{ color: \"black\", textAlign: \"left\" }}\n                    name='add-motor-policy'\n                    as={Link} to=\"/staff/dashboard/add-new-motor-policy\"\n                    active={activeItem === 'add-motor-policy'}\n                    onClick={handleItemClick}\n                  />\n                </Menu.Menu>\n              </Menu.Item>\n\n            </Sidebar>\n            <Sidebar.Pusher dimmed={visible}>\n              <BaseRouter props={props} />\n            </Sidebar.Pusher>\n          </Sidebar.Pushable>\n        </Grid.Column>\n      </Grid>\n\n    </Segment>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}