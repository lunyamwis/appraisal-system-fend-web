{"ast":null,"code":"var _jsxFileName = \"/home/actserv/Documents/brooks_insurance_agency_software/brooks-insurance-front-end/src/components/policies/motor/addNewPolicy.js\";\nimport React, { useState, useContext, useEffect, useCallback } from 'react';\nimport { Grid, Container, Header, Icon, Form, Label, Input, Button, Divider, Message } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { DateInput } from 'semantic-ui-calendar-react';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport { useMutation, useQuery, useLazyQuery } from '@apollo/react-hooks';\nimport { MotorPolicyContext } from '../../../context/policy/motor';\nimport { CREATE_MOTOR_POLICY, GET_MOTOR_POLICY_OPTS, FETCH_INSURANCE_COMP } from '../queries';\nimport Clients from '../listClients';\nimport TransactionTypes from '../transactionTypes';\nimport PremiumTypes from '../premiumTypes';\nimport InsuranceCompanies from '../listInsuranceComps';\nimport { FETCH_CLIENTS_QUERY } from '../../auth/queries';\nimport * as yup from \"yup\";\nexport default function AddNewMotorPolicy(props) {\n  const [errors, setErrors] = useState({\n    errorPaths: [],\n    errors: []\n  });\n  const [responseErrors, setResponseErrors] = useState([]);\n  const context = useContext(MotorPolicyContext);\n  const [clients, setClients] = useState();\n  const [policyOpts, setPolicyOpts] = useState();\n  const [insuranceCos, setInsuranceCos] = useState();\n  const [addBenefits, setAddBenefits] = useState({});\n  const [addBenefitCount, setAddBenefitCount] = useState([0]);\n  const [addPremiumCount] = useState([1, 2, 3]);\n  const [addPremiums, setAddPremiums] = useState({\n    1: {\n      premium: \"IPHCFLEVY\",\n      commissionRate: 0.25,\n      amount: 0\n    },\n    2: {\n      premium: \"TLEVY\",\n      commissionRate: 0.2,\n      amount: 0\n    },\n    3: {\n      premium: \"STAMPD\",\n      minimumAmount: 40\n    }\n  });\n  const [visible, setVisible] = useState(false);\n  const [calculated, setCalculated] = useState({\n    netPremium: 0,\n    grossPremium: 0,\n    grossCommission: 0,\n    netCommission: 0,\n    withholdingTax: 0,\n    updated: false\n  });\n  const [search, setSearch] = useState({\n    search: \"\"\n  });\n  const [usersFetched, setUsersFetched] = useState(false);\n  const [values, setValues] = useState({\n    additionalBenefits: {},\n    additionalPremiums: {},\n    remarks: \"\",\n    afterSubmit: false,\n    commissionRate: 3.75,\n    withholdingTax: 10,\n    transactionDate: moment().format(\"YYYY-MM-DD\"),\n    premiumType: \"BASIC\",\n    vehicleDetails: {\n      registrationNo: '',\n      make: '',\n      body: '',\n      color: '',\n      chasselNo: '',\n      cc: '',\n      engineNo: '',\n      tonnage: '',\n      seatingCapacity: '',\n      yearOfManufacture: ''\n    }\n  });\n  let schema = yup.object().shape({\n    debitNoteNo: yup.string().required(\"\"),\n    policyNo: yup.string().required(\"\"),\n    individualClient: yup.string().required(\"\"),\n    insuranceCompany: yup.string().required(\"\"),\n    insuranceClass: yup.string().required(\"\"),\n    transactionType: yup.string().required(\"\"),\n    transactionDate: yup.date().required(\"\"),\n    startDate: yup.date().required(\"\"),\n    endDate: yup.date().required(\"\"),\n    yearOfManufacture: yup.number().required(\"\"),\n    premiumType: yup.string().required(\"\"),\n    minimumPremiumAmount: yup.number().required(\"\"),\n    commissionRate: yup.number().required(\"\"),\n    policyCommissionRate: yup.number().required(\"\"),\n    value: yup.number().required(\"\"),\n    tonnage: yup.number().required(\"\"),\n    seatingCapacity: yup.number().required(\"\"),\n    registrationNo: yup.string().required(\"\"),\n    make: yup.string().required(\"\"),\n    model: yup.string().required(\"\"),\n    body: yup.string().required(\"\"),\n    color: yup.string().required(\"\"),\n    engineNo: yup.string().required(\"\"),\n    chasselNo: yup.string().required(\"\"),\n    cc: yup.string().required(\"\")\n  });\n  const {\n    data: policyOptsData\n  } = useQuery(GET_MOTOR_POLICY_OPTS);\n  useEffect(() => {\n    if (policyOptsData) {\n      setPolicyOpts(policyOptsData.motorPolicyOptions);\n    }\n  }, [policyOptsData, policyOpts]);\n  const {\n    data: insuranceCosData\n  } = useQuery(FETCH_INSURANCE_COMP, {\n    variables: {\n      search: search.searchString\n    }\n  });\n  useEffect(() => {\n    if (insuranceCosData) {\n      setInsuranceCos(insuranceCosData.insuranceCompanies.items);\n    }\n  }, [insuranceCosData, insuranceCos]);\n  useEffect(() => {\n    if (values.minimumPremiumAmount && values.value && calculated.updated) {\n      let data = {};\n      let netPremium = (+values.commissionRate / 100 * +values.value).toFixed(0);\n\n      if (+values.minimumPremiumAmount > +netPremium) {\n        netPremium = parseFloat(values.minimumPremiumAmount).toFixed(0);\n      }\n\n      data[\"netPremium\"] = netPremium;\n      let grossPremium = netPremium;\n\n      for (const [key, value] of Object.entries(addBenefits)) {\n        if (value.commissionRate && value.minimumAmount) {\n          let amount = parseFloat(grossPremium * value.commissionRate / 100).toFixed(0);\n\n          if (+value.minimumAmount > +amount) {\n            amount = +value.minimumAmount;\n          }\n\n          grossPremium = +amount + +grossPremium;\n          addBenefits[key].amount = +amount;\n        }\n      }\n\n      for (const [key, value] of Object.entries(addPremiums)) {\n        if (value.commissionRate) {\n          let amount = parseFloat(grossPremium * value.commissionRate / 100).toFixed(0);\n          grossPremium = +amount + +grossPremium;\n          addPremiums[key].amount = amount;\n        }\n\n        if (!value.commissionRate) {\n          grossPremium = +value.minimumAmount + +grossPremium;\n        }\n      }\n\n      data[\"grossPremium\"] = grossPremium;\n\n      if (values.policyCommissionRate) {\n        let grossCommission = (grossPremium * parseFloat(values.policyCommissionRate) / 100).toFixed(0);\n        let withholdingTax = (grossCommission * 0.1).toFixed(0);\n        let netCommission = grossCommission - withholdingTax;\n        data[\"grossCommission\"] = grossCommission;\n        data[\"withholdingTax\"] = withholdingTax;\n        data[\"netCommission\"] = netCommission;\n      }\n\n      setCalculated({ ...calculated,\n        ...data,\n        updated: false\n      });\n    }\n  }, [calculated, values, addPremiums, addBenefits]);\n  const [fetchClients, {\n    data: clientsData\n  }] = useLazyQuery(FETCH_CLIENTS_QUERY, {\n    variables: search\n  });\n  useEffect(() => {\n    if (!usersFetched) {\n      fetchClients();\n    }\n\n    if (clientsData) {\n      setClients(clientsData.individualClients.items);\n      setUsersFetched(true);\n    }\n  }, [clientsData, clients, fetchClients, usersFetched]);\n  const validate = useCallback(values => {\n    schema.validate(values, {\n      abortEarly: false\n    }).then(valid => setErrors({\n      errorPaths: [],\n      errors: []\n    })) //called if the entire form is valid\n    .catch(err => {\n      setErrors({\n        errors: err.errors,\n        errorPaths: err.inner.map(i => i.path)\n      });\n    });\n  }, [schema]);\n  const [createPolicy, {\n    loading\n  }] = useCallback(useMutation(CREATE_MOTOR_POLICY, {\n    update(_, result) {\n      context.createPolicy(result.data);\n      setVisible(false);\n      let pol = result.data.createMotorPolicy.motorPolicy;\n      context.createPolicy(result.data.createMotorPolicy.motorPolicy);\n      props.history.push({\n        pathname: `/staff/dashboard/policies/general/motor/details/${pol.id}`,\n        state: {\n          motorPolicy: pol\n        }\n      });\n    },\n\n    onError(err) {\n      console.log(err.graphQLErrors && err.graphQLErrors[0] ? err.graphQLErrors[0].message : err.networkError && err.networkError.result ? err.networkError.result.errors : err);\n\n      try {\n        if (err.graphQLErrors) {\n          setResponseErrors(err.graphQLErrors[0].message);\n        }\n\n        if (err.networkError !== null && err.networkError !== 'undefined') {\n          setResponseErrors(err.networkError.result.errors[0]);\n        } else if (err.graphQLErrors !== null && err.networkError !== 'undefined') {\n          setResponseErrors(err.graphQLErrors.result.errors[0]);\n        }\n      } catch (e) {\n        setVisible(true);\n      }\n    },\n\n    variables: values\n  }));\n  const onChange = useCallback((event, {\n    name,\n    value\n  }) => {\n    // event.preventDefault()\n    // console.log(name, value)\n    setValues({ ...values,\n      [name]: value,\n      updated: true\n    });\n    setCalculated({ ...calculated,\n      updated: true\n    });\n  }, [values, calculated]);\n\n  const handleOnClientSearch = e => {\n    setSearch({\n      search: e.target.value\n    });\n  };\n\n  const handleOnClientChange = (e, {\n    value\n  }) => {\n    e.preventDefault();\n    setValues({ ...values,\n      individualClient: value,\n      updated: true\n    }); // validate()\n  };\n\n  const handleOnInsuranceCompChange = (e, {\n    value\n  }) => {\n    e.preventDefault();\n    setValues({ ...values,\n      insuranceCompany: value,\n      updated: true\n    });\n  };\n\n  const handleOnTransactionTypesChange = (e, {\n    value\n  }) => {\n    e.preventDefault();\n    setValues({ ...values,\n      transactionType: value,\n      updated: true\n    });\n  }; // const handleOnPremiumTypesChange = (e, { value }) => {\n  //     e.preventDefault()\n  //     if (!e.target.name) {\n  //         let newValues = { ...values, premiumType: value, updated: true }\n  //         setValues(newValues)\n  //     }\n  //     else { setValues({ ...values, [e.target.name]: e.target.value, updated: true }) }\n  // }\n\n\n  const handleOnInsuranceClassChange = (e, {\n    value\n  }) => {\n    e.preventDefault();\n    let newValues = { ...values,\n      insuranceClass: value,\n      updated: true\n    };\n    setValues(newValues);\n  };\n\n  const handleOnAddPremTypesChange = (e, {\n    value\n  }) => {\n    e.preventDefault();\n    let key = e.target.name ? e.target.id : value.split(\"_\")[1];\n\n    if (!e.target.name) {\n      let data = {\n        premium: value.split(\"_\")[0]\n      };\n\n      if (Object.keys(addPremiums).length > 0) {\n        setAddPremiums(prevAddPrem => ({ ...prevAddPrem,\n          [key]: { ...prevAddPrem[key],\n            ...data\n          }\n        }));\n      } else {\n        let newPrem = { ...addPremiums,\n          [key]: data\n        };\n        setAddPremiums(newPrem);\n      }\n    } else {\n      if (Object.keys(addPremiums).length > 0) {\n        let data = {\n          [e.target.name]: value\n        };\n        setAddPremiums(prevAdsPrem => ({ ...prevAdsPrem,\n          [key]: { ...prevAdsPrem[key],\n            ...data\n          }\n        }));\n      } else {\n        let newVal = { ...addPremiums,\n          [key]: { ...addPremiums[key],\n            [e.target.name]: value\n          }\n        };\n        setAddPremiums(newVal);\n      }\n    }\n\n    setValues({ ...values,\n      updated: true\n    });\n  };\n\n  const handleOnAddBenefitTypesChange = (e, {\n    value\n  }) => {\n    e.preventDefault();\n    let key = e.target.name ? e.target.id : value.split(\"_\")[1];\n\n    if (!e.target.name) {\n      let data = {\n        benefit: value.split(\"_\")[0],\n        amount: 0\n      };\n\n      if (Object.keys(addBenefits).length > 0) {\n        setAddBenefits(prevAddBen => ({ ...prevAddBen,\n          [key]: { ...prevAddBen[key],\n            ...data\n          }\n        }));\n      } else {\n        let newBenefit = { ...addBenefits,\n          [key ? key : 0]: data\n        };\n        setAddBenefits(newBenefit);\n      }\n    } else {\n      if (Object.keys(addBenefits).length > 0) {\n        let data = {\n          [e.target.name]: value,\n          amount: 0\n        };\n        setAddBenefits(prevAddBen => ({ ...prevAddBen,\n          [key]: { ...prevAddBen[key],\n            ...data\n          }\n        }));\n      } else {\n        let newVal = { ...addBenefits,\n          [key]: { ...addBenefits[key],\n            [e.target.name]: value,\n            amount: 0\n          }\n        };\n        setAddBenefits(newVal);\n      }\n    }\n\n    setValues({ ...values,\n      updated: true\n    });\n    setCalculated({ ...calculated,\n      updated: true\n    });\n  };\n\n  const handleAddAdditionalBenefit = useCallback(e => {\n    e.preventDefault();\n\n    if (addBenefitCount.length) {\n      setAddBenefitCount([...addBenefitCount, addBenefitCount[addBenefitCount.length - 1] + 1]);\n    } else {\n      setAddBenefitCount([1]);\n    }\n  }, [addBenefitCount]); // const handleAddAdditionalPremium = useCallback((e) => {\n  //     e.preventDefault();\n  //     if (addPremiumCount.length) { setAddPremiumCount([...addPremiumCount, addPremiumCount[addPremiumCount.length - 1] + 1]) }\n  //     else { setAddPremiumCount([1]) }\n  // }, [addPremiumCount])\n\n  const handleRemoveAdditionalBenefit = useCallback(event => {\n    event.preventDefault();\n    const newArr = addBenefitCount.filter(e => e !== Number(event.target.id));\n    setAddBenefitCount(newArr);\n\n    if (Object.keys(addBenefits).length > 0) {\n      delete addBenefits[event.target.id];\n    }\n\n    setCalculated({ ...calculated,\n      updated: true\n    });\n  }, [addBenefitCount, addBenefits, calculated]); // const handleRemoveAdditionalPremium = useCallback((event) => {\n  //     event.preventDefault();\n  //     const newArr = addPremiumCount.filter(e => e !== Number(event.target.id))\n  //     setAddPremiumCount(newArr)\n  //     if (Object.keys(addPremiums).length > 0) {\n  //         delete addPremiums[event.target.id]\n  //     }\n  // }, [addPremiums, addPremiumCount])\n\n  useEffect(() => {\n    if (values.updated) {\n      setValues({ ...values,\n        additionalBenefits: Object.values(addBenefits),\n        additionalPremiums: Object.values(addPremiums),\n        updated: false\n      });\n\n      if (values.afterSubmit) {\n        validate(values);\n      }\n    }\n  }, [values, addBenefits, addPremiums, validate]);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    validate(values);\n    setValues({ ...values,\n      afterSubmit: true\n    });\n\n    if (Object.keys(values).length > 7 && !errors.errors.length) {\n      createPolicy();\n    }\n\n    setVisible(false);\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    padded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    as: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Header.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/staff/dashboard/policies\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 33\n    }\n  }, \"Policy Records\"), \" \", '>', \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/staff/dashboard/policies/general\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 94\n    }\n  }, \"General\"), \" \", '>', \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/staff/dashboard/policies/general/motor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 156\n    }\n  }, \"Motor\"), \" \", '>', \" Create New Motor Policy\", /*#__PURE__*/React.createElement(Header.Subheader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 33\n    }\n  }, \"Fill in this form to create motor policy\")))))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    padded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    noValidate: true,\n    className: loading ? \"loading\" : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Message, {\n    visible: !!errors.errors.length || visible,\n    warning: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Message.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 33\n    }\n  }, \"Please correct the following issues:\"), !!responseErrors.length && /*#__PURE__*/React.createElement(Message, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 61\n    }\n  }, responseErrors), /*#__PURE__*/React.createElement(Message.List, {\n    items: errors.errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 34\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('individualClient'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 33\n    }\n  }, \"Client\"), clients && /*#__PURE__*/React.createElement(Clients, {\n    clients: clients,\n    handleOnClientSearch: handleOnClientSearch,\n    handleOnClientChange: handleOnClientChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('policyNo'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 33\n    }\n  }, \"Policy Number\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Policy Number\",\n    name: \"policyNo\",\n    onChange: onChange,\n    values: values.policyNo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('debitNoteNo'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 33\n    }\n  }, \"Debit Note Number\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Debit Note Number\",\n    name: \"debitNoteNo\",\n    onChange: onChange,\n    values: values.debitNoteNo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('insuranceCompany'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 33\n    }\n  }, \"Insurance Company\"), insuranceCos && /*#__PURE__*/React.createElement(InsuranceCompanies, {\n    insuranceCompanies: insuranceCos,\n    handleOnInsuranceCompChange: handleOnInsuranceCompChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 50\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('transactionType'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 33\n    }\n  }, \"Transaction Type\"), policyOpts && policyOpts.transaction_type_options && /*#__PURE__*/React.createElement(TransactionTypes, {\n    transactionTypes: policyOpts.transaction_type_options,\n    handleOnTransactionTypesChange: handleOnTransactionTypesChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 87\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('insuranceClass'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 33\n    }\n  }, \"Insurance Class\"), policyOpts && policyOpts.insurance_class_options && /*#__PURE__*/React.createElement(PremiumTypes, {\n    premiumTypes: policyOpts.insurance_class_options,\n    placeholder: \"Select Insurance Class\",\n    handleOnPremiumTypesChange: handleOnInsuranceClassChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 86\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('startDate'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 33\n    }\n  }, \"Start Date\"), /*#__PURE__*/React.createElement(DateInput, {\n    name: \"startDate\",\n    placeholder: \"Start Date\",\n    popupPosition: \"bottom left\",\n    value: values.startDate ? values.startDate : \"\",\n    iconPosition: \"left\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('endDate'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 33\n    }\n  }, \"End Date\"), /*#__PURE__*/React.createElement(DateInput, {\n    name: \"endDate\",\n    placeholder: \"End Date\",\n    popupPosition: \"bottom left\",\n    value: values.endDate ? values.endDate : \"\",\n    iconPosition: \"left\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 25\n    }\n  }, \"Vehicle Details\"), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('value'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 33\n    }\n  }, \"Value\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Current Value\",\n    name: \"value\",\n    type: \"number\",\n    onChange: onChange,\n    values: values.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('registrationNo'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 33\n    }\n  }, \"Registration Number\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Registration Number\",\n    name: \"registrationNo\",\n    onChange: onChange,\n    values: values.vehicleDetails.registrationNo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('make'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 33\n    }\n  }, \"Make\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Make\",\n    name: \"make\",\n    onChange: onChange,\n    values: values.vehicleDetails.make,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('model'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 33\n    }\n  }, \"Model\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Model\",\n    name: \"model\",\n    onChange: onChange,\n    values: values.vehicleDetails.model,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('body'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 33\n    }\n  }, \"Body\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Body\",\n    name: \"body\",\n    onChange: onChange,\n    values: values.vehicleDetails.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('color'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 33\n    }\n  }, \"Color\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Color\",\n    name: \"color\",\n    onChange: onChange,\n    values: values.vehicleDetails.color,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('chasselNo'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 33\n    }\n  }, \"Chassis Number\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Chassis Number\",\n    name: \"chasselNo\",\n    onChange: onChange,\n    values: values.vehicleDetails.chasselNo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('cc'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 33\n    }\n  }, \"CC\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"CC\",\n    name: \"cc\",\n    type: \"number\",\n    onChange: onChange,\n    values: values.vehicleDetails.cc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('engineNo'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 33\n    }\n  }, \"Engine Number\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Engine Number\",\n    name: \"engineNo\",\n    onChange: onChange,\n    values: values.vehicleDetails.engineNo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('seatingCapacity'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 33\n    }\n  }, \"Seat Capacity\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Seat Capacity\",\n    name: \"seatingCapacity\",\n    type: \"number\",\n    onChange: onChange,\n    values: values.vehicleDetails.seatingCapacity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('tonnage'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 33\n    }\n  }, \"Tonnage\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Tonnage\",\n    name: \"tonnage\",\n    type: \"number\",\n    onChange: onChange,\n    values: values.vehicleDetails.tonnage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('yearOfManufacture'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 33\n    }\n  }, \"Year of Manufacture\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Year of Manufacture\",\n    name: \"yearOfManufacture\",\n    type: \"number\",\n    onChange: onChange,\n    values: values.vehicleDetails.yearOfManufacture,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 25\n    }\n  }, \"Premiums Details\"), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('premiumType'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 33\n    }\n  }, \"Premium Type\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Basic Premium\",\n    name: \"premiumType\",\n    value: \"Basic Premium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('minimumPremiumAmount'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 33\n    }\n  }, \"Minimum Premium Amount\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Minimum Premium Amount\",\n    name: \"minimumPremiumAmount\",\n    type: \"number\",\n    onChange: onChange,\n    values: values.minimumPremiumAmount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('commissionRate'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 33\n    }\n  }, \"Commission Rate (%)\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Commission Rate\",\n    name: \"commissionRate\",\n    type: \"number\",\n    step: \"any\",\n    onChange: onChange,\n    value: values.commissionRate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 25\n    }\n  }, \"Additional Benefits\"), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    icon: true,\n    floated: \"right\",\n    onClick: handleAddAdditionalBenefit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"plus square outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 37\n    }\n  })))), addBenefitCount.map(key => /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 603,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 37\n    }\n  }, \"Additional Benefit Type\"), policyOpts && policyOpts.additional_benefit_options && /*#__PURE__*/React.createElement(PremiumTypes, {\n    premiumTypes: policyOpts.additional_benefit_options,\n    placeholder: \"Select Additional Benefit Type\",\n    id: key,\n    handleOnPremiumTypesChange: handleOnAddBenefitTypesChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 93\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 37\n    }\n  }, \"Minimum Benefit Amount\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Minimum Additional Benefit Amount\",\n    id: key,\n    name: \"minimumAmount\",\n    type: \"number\",\n    onChange: handleOnAddBenefitTypesChange,\n    values: values.minimumPremiumAmount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 48\n    }\n  }, \"Commission Rate\")), /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Commission Rate\",\n    name: \"commissionRate\",\n    type: \"number\",\n    step: \"any\",\n    id: key,\n    onChange: handleOnAddBenefitTypesChange,\n    values: values.commissionRate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: key,\n    key: key,\n    icon: true,\n    floated: \"right\",\n    onClick: handleRemoveAdditionalBenefit,\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 634,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"trash alternate\",\n    id: key,\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 635,\n      columnNumber: 49\n    }\n  }))))))), /*#__PURE__*/React.createElement(Divider, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 25\n    }\n  }, \"Additional Premiums\"), addPremiumCount.map(key => /*#__PURE__*/React.createElement(Form.Group, {\n    widths: 2,\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 54\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 643,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 33\n    }\n  }, \"Premium Type\"), policyOpts && policyOpts.premium_type_options && /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    name: \"premiumType\",\n    value: policyOpts.premium_type_options[addPremiums[key].premium],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 37\n    }\n  })), addPremiums[key].commissionRate ? /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 64\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"ui center aligned\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 33\n    }\n  }, \"Commission Rate (%)\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Commission Rate\",\n    name: \"commissionRate\",\n    type: \"number\",\n    step: \"any\",\n    id: key,\n    onChange: handleOnAddPremTypesChange,\n    value: addPremiums[key] ? addPremiums[key].commissionRate : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 652,\n      columnNumber: 33\n    }\n  })) : /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"ui center aligned\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 33\n    }\n  }, \"Premium Amount\"), /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Row, {\n    centered: true,\n    width: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 663,\n      columnNumber: 41\n    }\n  }, addPremiums[key] && addPremiums[key].amount ? addPremiums[key].amount : addPremiums[key].minimumAmount ? addPremiums[key].minimumAmount : \"0\")))))), /*#__PURE__*/React.createElement(Divider, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 668,\n      columnNumber: 25\n    }\n  }, \"Totals\"), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 669,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 670,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 33\n    }\n  }, \"Gross Premium\"), /*#__PURE__*/React.createElement(Label, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 672,\n      columnNumber: 33\n    }\n  }, calculated.grossPremium)), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    error: errors.errorPaths.includes('policyCommissionRate'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 674,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 675,\n      columnNumber: 33\n    }\n  }, \"Commission rate (%)\"), /*#__PURE__*/React.createElement(Input, {\n    fluid: true,\n    placeholder: \"Commission Rate\",\n    name: \"policyCommissionRate\",\n    type: \"number\",\n    onChange: onChange,\n    value: values.policyCommissionRate ? values.policyCommissionRate : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 676,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 681,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 682,\n      columnNumber: 33\n    }\n  }, \"Gross Commission\"), /*#__PURE__*/React.createElement(Label, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 683,\n      columnNumber: 33\n    }\n  }, calculated.grossCommission)), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 688,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 689,\n      columnNumber: 33\n    }\n  }, \"Withholding Tax\"), /*#__PURE__*/React.createElement(Label, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 690,\n      columnNumber: 33\n    }\n  }, calculated.withholdingTax)), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 694,\n      columnNumber: 33\n    }\n  }, \"Net Commission\"), /*#__PURE__*/React.createElement(Label, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 695,\n      columnNumber: 33\n    }\n  }, calculated.netCommission))), /*#__PURE__*/React.createElement(Divider, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 25\n    }\n  }, \"Remarks\"), /*#__PURE__*/React.createElement(CKEditor, {\n    editor: ClassicEditor,\n    data: values.remarks,\n    onChange: (event, editor) => {\n      const data = editor.getData();\n      setValues({ ...values,\n        remarks: data\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 708,\n      columnNumber: 25\n    }\n  }, \"...\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 709,\n      columnNumber: 25\n    }\n  }, \"Preview Motor Policy\")))));\n}","map":{"version":3,"sources":["/home/actserv/Documents/brooks_insurance_agency_software/brooks-insurance-front-end/src/components/policies/motor/addNewPolicy.js"],"names":["React","useState","useContext","useEffect","useCallback","Grid","Container","Header","Icon","Form","Label","Input","Button","Divider","Message","moment","DateInput","CKEditor","ClassicEditor","useMutation","useQuery","useLazyQuery","MotorPolicyContext","CREATE_MOTOR_POLICY","GET_MOTOR_POLICY_OPTS","FETCH_INSURANCE_COMP","Clients","TransactionTypes","PremiumTypes","InsuranceCompanies","FETCH_CLIENTS_QUERY","yup","AddNewMotorPolicy","props","errors","setErrors","errorPaths","responseErrors","setResponseErrors","context","clients","setClients","policyOpts","setPolicyOpts","insuranceCos","setInsuranceCos","addBenefits","setAddBenefits","addBenefitCount","setAddBenefitCount","addPremiumCount","addPremiums","setAddPremiums","premium","commissionRate","amount","minimumAmount","visible","setVisible","calculated","setCalculated","netPremium","grossPremium","grossCommission","netCommission","withholdingTax","updated","search","setSearch","usersFetched","setUsersFetched","values","setValues","additionalBenefits","additionalPremiums","remarks","afterSubmit","transactionDate","format","premiumType","vehicleDetails","registrationNo","make","body","color","chasselNo","cc","engineNo","tonnage","seatingCapacity","yearOfManufacture","schema","object","shape","debitNoteNo","string","required","policyNo","individualClient","insuranceCompany","insuranceClass","transactionType","date","startDate","endDate","number","minimumPremiumAmount","policyCommissionRate","value","model","data","policyOptsData","motorPolicyOptions","insuranceCosData","variables","searchString","insuranceCompanies","items","toFixed","parseFloat","key","Object","entries","fetchClients","clientsData","individualClients","validate","abortEarly","then","valid","catch","err","inner","map","i","path","createPolicy","loading","update","_","result","pol","createMotorPolicy","motorPolicy","history","push","pathname","id","state","onError","console","log","graphQLErrors","message","networkError","e","onChange","event","name","handleOnClientSearch","target","handleOnClientChange","preventDefault","handleOnInsuranceCompChange","handleOnTransactionTypesChange","handleOnInsuranceClassChange","newValues","handleOnAddPremTypesChange","split","keys","length","prevAddPrem","newPrem","prevAdsPrem","newVal","handleOnAddBenefitTypesChange","benefit","prevAddBen","newBenefit","handleAddAdditionalBenefit","handleRemoveAdditionalBenefit","newArr","filter","Number","onSubmit","includes","transaction_type_options","insurance_class_options","additional_benefit_options","premium_type_options","editor","getData"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect, useCallback } from 'react';\nimport {\n    Grid,\n    Container,\n    Header,\n    Icon,\n    Form,\n    Label,\n    Input,\n    Button,\n    Divider,\n    Message\n} from 'semantic-ui-react';\nimport moment from 'moment';\nimport { DateInput } from 'semantic-ui-calendar-react';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nimport { useMutation, useQuery, useLazyQuery } from '@apollo/react-hooks';\nimport { MotorPolicyContext } from '../../../context/policy/motor';\nimport { CREATE_MOTOR_POLICY, GET_MOTOR_POLICY_OPTS, FETCH_INSURANCE_COMP } from '../queries'\nimport Clients from '../listClients'\nimport TransactionTypes from '../transactionTypes'\nimport PremiumTypes from '../premiumTypes'\nimport InsuranceCompanies from '../listInsuranceComps'\nimport { FETCH_CLIENTS_QUERY } from '../../auth/queries'\nimport * as yup from \"yup\";\n\nexport default function AddNewMotorPolicy(props) {\n    const [errors, setErrors] = useState({\n        errorPaths: [],\n        errors: []\n    });\n    const [responseErrors, setResponseErrors] = useState([]);\n    const context = useContext(MotorPolicyContext);\n    const [clients, setClients] = useState();\n    const [policyOpts, setPolicyOpts] = useState();\n    const [insuranceCos, setInsuranceCos] = useState();\n    const [addBenefits, setAddBenefits] = useState({});\n    const [addBenefitCount, setAddBenefitCount] = useState([0]);\n    const [addPremiumCount] = useState([1, 2, 3]);\n    const [addPremiums, setAddPremiums] = useState({\n        1: {\n            premium: \"IPHCFLEVY\",\n            commissionRate: 0.25,\n            amount: 0\n        },\n        2: {\n            premium: \"TLEVY\",\n            commissionRate: 0.2,\n            amount: 0\n        },\n        3: {\n            premium: \"STAMPD\",\n            minimumAmount: 40\n        },\n    });\n    const [visible, setVisible] = useState(false);\n    const [calculated, setCalculated] = useState({\n        netPremium: 0,\n        grossPremium: 0,\n        grossCommission: 0,\n        netCommission: 0,\n        withholdingTax: 0,\n        updated: false\n    });\n    const [search, setSearch] = useState({ search: \"\" });\n    const [usersFetched, setUsersFetched] = useState(false);\n    const [values, setValues] = useState({\n        additionalBenefits: {},\n        additionalPremiums: {},\n        remarks: \"\",\n        afterSubmit: false,\n        commissionRate: 3.75,\n        withholdingTax: 10,\n        transactionDate: moment().format(\"YYYY-MM-DD\"),\n        premiumType: \"BASIC\",\n        vehicleDetails: {\n            registrationNo: '',\n            make: '',\n            body: '',\n            color: '',\n            chasselNo: '',\n            cc: '',\n            engineNo: '',\n            tonnage: '',\n            seatingCapacity: '',\n            yearOfManufacture: '',\n        }\n    });\n\n    let schema = yup.object().shape({\n        debitNoteNo: yup.string().required(\"\"),\n        policyNo: yup.string().required(\"\"),\n        individualClient: yup.string().required(\"\"),\n        insuranceCompany: yup.string().required(\"\"),\n        insuranceClass: yup.string().required(\"\"),\n        transactionType: yup.string().required(\"\"),\n        transactionDate: yup.date().required(\"\"),\n        startDate: yup.date().required(\"\"),\n        endDate: yup.date().required(\"\"),\n        yearOfManufacture: yup.number().required(\"\"),\n        premiumType: yup.string().required(\"\"),\n        minimumPremiumAmount: yup.number().required(\"\"),\n        commissionRate: yup.number().required(\"\"),\n        policyCommissionRate: yup.number().required(\"\"),\n        value: yup.number().required(\"\"),\n        tonnage: yup.number().required(\"\"),\n        seatingCapacity: yup.number().required(\"\"),\n        registrationNo: yup.string().required(\"\"),\n        make: yup.string().required(\"\"),\n        model: yup.string().required(\"\"),\n        body: yup.string().required(\"\"),\n        color: yup.string().required(\"\"),\n        engineNo: yup.string().required(\"\"),\n        chasselNo: yup.string().required(\"\"),\n        cc: yup.string().required(\"\"),\n    });\n\n\n    const { data: policyOptsData } = useQuery(GET_MOTOR_POLICY_OPTS);\n    useEffect(() => {\n        if (policyOptsData) {\n            setPolicyOpts(policyOptsData.motorPolicyOptions);\n        }\n    }, [policyOptsData, policyOpts]);\n\n    const { data: insuranceCosData } = useQuery(FETCH_INSURANCE_COMP, {\n        variables: { search: search.searchString }\n    });\n    useEffect(() => {\n        if (insuranceCosData) {\n            setInsuranceCos(insuranceCosData.insuranceCompanies.items);\n        }\n    }, [insuranceCosData, insuranceCos]);\n\n    useEffect(() => {\n        if (values.minimumPremiumAmount && values.value && calculated.updated) {\n            let data = {}\n            let netPremium = (+values.commissionRate / 100 * +values.value).toFixed(0)\n            if (+values.minimumPremiumAmount > +netPremium) {\n                netPremium = parseFloat(values.minimumPremiumAmount).toFixed(0)\n            }\n            data[\"netPremium\"] = netPremium\n            let grossPremium = netPremium\n            for (const [key, value] of Object.entries(addBenefits)) {\n                if (value.commissionRate && value.minimumAmount) {\n                    let amount = parseFloat(grossPremium * value.commissionRate / 100).toFixed(0)\n                    if (+value.minimumAmount > +amount) {\n                        amount = +value.minimumAmount\n                    }\n                    grossPremium = +amount + +grossPremium\n                    addBenefits[key].amount = +amount\n                }\n            }\n            for (const [key, value] of Object.entries(addPremiums)) {\n                if (value.commissionRate) {\n                    let amount = parseFloat(grossPremium * value.commissionRate / 100).toFixed(0)\n                    grossPremium = +amount + +grossPremium\n                    addPremiums[key].amount = amount\n                }\n                if (!value.commissionRate) {\n                    grossPremium = +value.minimumAmount + +grossPremium\n                }\n            }\n            data[\"grossPremium\"] = grossPremium\n            if (values.policyCommissionRate) {\n                let grossCommission = (grossPremium * parseFloat(values.policyCommissionRate) / 100).toFixed(0)\n                let withholdingTax = (grossCommission * 0.1).toFixed(0)\n                let netCommission = grossCommission - withholdingTax\n                data[\"grossCommission\"] = grossCommission\n                data[\"withholdingTax\"] = withholdingTax\n                data[\"netCommission\"] = netCommission\n            }\n            setCalculated({ ...calculated, ...data, updated: false })\n        }\n    }, [calculated, values, addPremiums, addBenefits])\n\n    const [fetchClients, { data: clientsData }] = useLazyQuery(FETCH_CLIENTS_QUERY, {\n        variables: search\n    });\n    useEffect(() => {\n        if (!usersFetched) {\n            fetchClients()\n        }\n        if (clientsData) {\n            setClients(clientsData.individualClients.items);\n            setUsersFetched(true)\n        }\n    }, [clientsData, clients, fetchClients, usersFetched]);\n    const validate = useCallback((values) => {\n        schema.validate(values, { abortEarly: false })\n            .then(valid => setErrors({ errorPaths: [], errors: [] })) //called if the entire form is valid\n            .catch(err => {\n                setErrors({ errors: err.errors, errorPaths: err.inner.map(i => i.path) })\n            })\n    }, [schema])\n\n    const [createPolicy, { loading }] = useCallback(useMutation(CREATE_MOTOR_POLICY,\n        {\n            update(_, result) {\n                context.createPolicy(result.data);\n                setVisible(false);\n\n                let pol = result.data.createMotorPolicy.motorPolicy\n                context.createPolicy(result.data.createMotorPolicy.motorPolicy)\n                props.history.push({\n                    pathname: `/staff/dashboard/policies/general/motor/details/${pol.id}`,\n                    state: { motorPolicy: pol }\n                })\n            },\n            onError(err) {\n                console.log(err.graphQLErrors && err.graphQLErrors[0] ? err.graphQLErrors[0].message : err.networkError && err.networkError.result ? err.networkError.result.errors : err)\n                try {\n                    if (err.graphQLErrors) {\n                        setResponseErrors(err.graphQLErrors[0].message);\n                    }\n\n                    if (err.networkError !== null && err.networkError !== 'undefined') {\n\n                        setResponseErrors(err.networkError.result.errors[0]);\n\n                    } else if (err.graphQLErrors !== null && err.networkError !== 'undefined') {\n\n                        setResponseErrors(err.graphQLErrors.result.errors[0]);\n\n                    }\n                } catch (e) {\n                    setVisible(true);\n                }\n\n            },\n            variables: values,\n        }));\n    const onChange = useCallback((event, { name, value }) => {\n        // event.preventDefault()\n        // console.log(name, value)\n        setValues({ ...values, [name]: value, updated: true });\n        setCalculated({ ...calculated, updated: true })\n    }, [values, calculated])\n\n    const handleOnClientSearch = (e) => {\n        setSearch({ search: e.target.value });\n    }\n    const handleOnClientChange = (e, { value }) => {\n        e.preventDefault()\n        setValues({ ...values, individualClient: value, updated: true });\n        // validate()\n    }\n    const handleOnInsuranceCompChange = (e, { value }) => {\n        e.preventDefault()\n        setValues({ ...values, insuranceCompany: value, updated: true });\n    }\n    const handleOnTransactionTypesChange = (e, { value }) => {\n        e.preventDefault()\n        setValues({ ...values, transactionType: value, updated: true });\n    }\n    // const handleOnPremiumTypesChange = (e, { value }) => {\n    //     e.preventDefault()\n    //     if (!e.target.name) {\n    //         let newValues = { ...values, premiumType: value, updated: true }\n    //         setValues(newValues)\n    //     }\n    //     else { setValues({ ...values, [e.target.name]: e.target.value, updated: true }) }\n    // }\n    const handleOnInsuranceClassChange = (e, { value }) => {\n        e.preventDefault()\n        let newValues = { ...values, insuranceClass: value, updated: true }\n        setValues(newValues)\n\n    }\n    const handleOnAddPremTypesChange = (e, { value }) => {\n        e.preventDefault()\n        let key = e.target.name ? e.target.id : value.split(\"_\")[1]\n        if (!e.target.name) {\n            let data = { premium: value.split(\"_\")[0] }\n            if (Object.keys(addPremiums).length > 0) {\n                setAddPremiums(prevAddPrem => ({\n                    ...prevAddPrem,\n                    [key]: { ...prevAddPrem[key], ...data }\n                }));\n            } else {\n                let newPrem = { ...addPremiums, [key]: data }\n                setAddPremiums(newPrem);\n            }\n        }\n        else {\n\n            if (Object.keys(addPremiums).length > 0) {\n                let data = { [e.target.name]: value }\n                setAddPremiums(prevAdsPrem => ({\n                    ...prevAdsPrem,\n                    [key]: { ...prevAdsPrem[key], ...data }\n                }));\n            }\n            else {\n\n                let newVal = { ...addPremiums, [key]: { ...addPremiums[key], [e.target.name]: value } }\n                setAddPremiums(newVal)\n            }\n        }\n        setValues({ ...values, updated: true });\n\n\n    }\n\n    const handleOnAddBenefitTypesChange = (e, { value }) => {\n        e.preventDefault()\n        let key = e.target.name ? e.target.id : value.split(\"_\")[1]\n        if (!e.target.name) {\n            let data = { benefit: value.split(\"_\")[0], amount: 0 }\n            if (Object.keys(addBenefits).length > 0) {\n                setAddBenefits(prevAddBen => ({\n                    ...prevAddBen,\n                    [key]: { ...prevAddBen[key], ...data }\n                }));\n            } else {\n                let newBenefit = { ...addBenefits, [key ? key : 0]: data }\n                setAddBenefits(newBenefit);\n            }\n\n        }\n        else {\n            if (Object.keys(addBenefits).length > 0) {\n                let data = { [e.target.name]: value, amount: 0 }\n                setAddBenefits(prevAddBen => ({\n                    ...prevAddBen,\n                    [key]: { ...prevAddBen[key], ...data }\n                }));\n            }\n            else {\n                let newVal = { ...addBenefits, [key]: { ...addBenefits[key], [e.target.name]: value, amount: 0 } }\n                setAddBenefits(newVal)\n            }\n        }\n        setValues({ ...values, updated: true });\n        setCalculated({ ...calculated, updated: true })\n\n    }\n    const handleAddAdditionalBenefit = useCallback((e) => {\n        e.preventDefault();\n        if (addBenefitCount.length) {\n            setAddBenefitCount([...addBenefitCount, addBenefitCount[addBenefitCount.length - 1] + 1])\n        }\n        else { setAddBenefitCount([1]) }\n    }, [addBenefitCount])\n    // const handleAddAdditionalPremium = useCallback((e) => {\n    //     e.preventDefault();\n    //     if (addPremiumCount.length) { setAddPremiumCount([...addPremiumCount, addPremiumCount[addPremiumCount.length - 1] + 1]) }\n    //     else { setAddPremiumCount([1]) }\n    // }, [addPremiumCount])\n    const handleRemoveAdditionalBenefit = useCallback((event) => {\n        event.preventDefault();\n        const newArr = addBenefitCount.filter(e => e !== Number(event.target.id))\n        setAddBenefitCount(newArr)\n        if (Object.keys(addBenefits).length > 0) {\n            delete addBenefits[event.target.id]\n        }\n        setCalculated({ ...calculated, updated: true })\n\n\n    }, [addBenefitCount, addBenefits, calculated])\n    // const handleRemoveAdditionalPremium = useCallback((event) => {\n    //     event.preventDefault();\n    //     const newArr = addPremiumCount.filter(e => e !== Number(event.target.id))\n    //     setAddPremiumCount(newArr)\n    //     if (Object.keys(addPremiums).length > 0) {\n    //         delete addPremiums[event.target.id]\n    //     }\n\n    // }, [addPremiums, addPremiumCount])\n    useEffect(() => {\n        if (values.updated) {\n            setValues({ ...values, additionalBenefits: Object.values(addBenefits), additionalPremiums: Object.values(addPremiums), updated: false })\n            if (values.afterSubmit) {\n                validate(values)\n            }\n        }\n    }, [values, addBenefits, addPremiums, validate])\n    const onSubmit = (event) => {\n        event.preventDefault();\n        validate(values)\n        setValues({ ...values, afterSubmit: true })\n        if (Object.keys(values).length > 7 && !errors.errors.length) { createPolicy() }\n        setVisible(false);\n    }\n\n    return (\n        <Container>\n            <Grid container padded>\n                <Grid.Column>\n                    <div className=\"content-wrapper\">\n                        <Header as='h2'>\n                            <Icon name='settings' />\n                            <Header.Content>\n                                <a href=\"/staff/dashboard/policies\">Policy Records</a> {'>'} <a href=\"/staff/dashboard/policies/general\">General</a> {'>'} <a href=\"/staff/dashboard/policies/general/motor\">Motor</a> {'>'} Create New Motor Policy\n                                <Header.Subheader>\n                                    Fill in this form to create motor policy\n                                </Header.Subheader>\n                            </Header.Content>\n                        </Header>\n                    </div>\n                </Grid.Column>\n            </Grid>\n\n            <Grid container padded>\n                <Grid.Column>\n                    <Form onSubmit={onSubmit} noValidate className={loading ? \"loading\" : ''}>\n                        <Form.Group>\n                            <Message visible={!!errors.errors.length || visible} warning>\n                                <Message.Header>Please correct the following issues:</Message.Header>\n                                {!!responseErrors.length && <Message>{responseErrors}</Message>}\n                                {<Message.List items={errors.errors} />}\n                            </Message>\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={errors.errorPaths.includes('individualClient')}>\n                                <label>Client</label>\n                                {clients && <Clients\n                                    clients={clients}\n                                    handleOnClientSearch={handleOnClientSearch}\n                                    handleOnClientChange={handleOnClientChange}\n                                />}\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('policyNo')}>\n                                <label>Policy Number</label>\n                                <Input fluid placeholder='Policy Number'\n                                    name=\"policyNo\" onChange={onChange}\n                                    values={values.policyNo} />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('debitNoteNo')}>\n                                <label>Debit Note Number</label>\n                                <Input fluid placeholder='Debit Note Number'\n                                    name=\"debitNoteNo\" onChange={onChange}\n                                    values={values.debitNoteNo}\n                                />\n                            </Form.Field>\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={errors.errorPaths.includes('insuranceCompany')}>\n                                <label>Insurance Company</label>\n                                {insuranceCos && <InsuranceCompanies\n                                    insuranceCompanies={insuranceCos}\n                                    handleOnInsuranceCompChange={handleOnInsuranceCompChange}\n                                />}\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('transactionType')}>\n                                <label>Transaction Type</label>\n                                {policyOpts && policyOpts.transaction_type_options && <TransactionTypes\n                                    transactionTypes={policyOpts.transaction_type_options}\n                                    handleOnTransactionTypesChange={handleOnTransactionTypesChange}\n                                />}\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('insuranceClass')}>\n                                <label>Insurance Class</label>\n                                {policyOpts && policyOpts.insurance_class_options && <PremiumTypes\n                                    premiumTypes={policyOpts.insurance_class_options}\n                                    placeholder=\"Select Insurance Class\"\n                                    handleOnPremiumTypesChange={handleOnInsuranceClassChange}\n                                />}\n                            </Form.Field>\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={errors.errorPaths.includes('startDate')}>\n                                <label>Start Date</label>\n                                <DateInput\n                                    name=\"startDate\"\n                                    placeholder=\"Start Date\"\n                                    popupPosition=\"bottom left\"\n                                    value={values.startDate ? values.startDate : \"\"}\n                                    iconPosition=\"left\"\n                                    onChange={onChange}\n                                />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('endDate')}>\n                                <label>End Date</label>\n                                <DateInput\n                                    name=\"endDate\"\n                                    placeholder=\"End Date\"\n                                    popupPosition=\"bottom left\"\n                                    value={values.endDate ? values.endDate : \"\"}\n                                    iconPosition=\"left\"\n                                    onChange={onChange}\n                                />\n                            </Form.Field>\n                        </Form.Group>\n                        <Divider horizontal>Vehicle Details</Divider>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={errors.errorPaths.includes('value')}>\n                                <label>Value</label>\n                                <Input fluid placeholder='Current Value'\n                                    name=\"value\" type=\"number\" onChange={onChange}\n                                    values={values.value} />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('registrationNo')}>\n                                <label>Registration Number</label>\n                                <Input fluid placeholder='Registration Number'\n                                    name=\"registrationNo\" onChange={onChange}\n                                    values={values.vehicleDetails.registrationNo} />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('make')}>\n                                <label>Make</label>\n                                <Input fluid placeholder='Make'\n                                    name=\"make\" onChange={onChange}\n                                    values={values.vehicleDetails.make} />\n                            </Form.Field>\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={errors.errorPaths.includes('model')}>\n                                <label>Model</label>\n                                <Input fluid placeholder='Model'\n                                    name=\"model\" onChange={onChange}\n                                    values={values.vehicleDetails.model} />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('body')}>\n                                <label>Body</label>\n                                <Input fluid placeholder='Body'\n                                    name=\"body\" onChange={onChange}\n                                    values={values.vehicleDetails.body} />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('color')}>\n                                <label>Color</label>\n                                <Input fluid placeholder='Color'\n                                    name=\"color\" onChange={onChange}\n                                    values={values.vehicleDetails.color} />\n                            </Form.Field>\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={errors.errorPaths.includes('chasselNo')}>\n                                <label>Chassis Number</label>\n                                <Input fluid placeholder='Chassis Number'\n                                    name=\"chasselNo\" onChange={onChange}\n                                    values={values.vehicleDetails.chasselNo} />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('cc')}>\n                                <label>CC</label>\n                                <Input fluid placeholder='CC'\n                                    name=\"cc\" type=\"number\" onChange={onChange}\n                                    values={values.vehicleDetails.cc} />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('engineNo')}>\n                                <label>Engine Number</label>\n                                <Input fluid placeholder='Engine Number'\n                                    name=\"engineNo\" onChange={onChange}\n                                    values={values.vehicleDetails.engineNo} />\n                            </Form.Field>\n                        </Form.Group>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={errors.errorPaths.includes('seatingCapacity')}>\n                                <label>Seat Capacity</label>\n                                <Input fluid placeholder='Seat Capacity'\n                                    name=\"seatingCapacity\" type=\"number\" onChange={onChange}\n                                    values={values.vehicleDetails.seatingCapacity} />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('tonnage')}>\n                                <label>Tonnage</label>\n                                <Input fluid placeholder='Tonnage'\n                                    name=\"tonnage\" type=\"number\" onChange={onChange}\n                                    values={values.vehicleDetails.tonnage} />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('yearOfManufacture')}>\n                                <label>Year of Manufacture</label>\n                                <Input fluid placeholder='Year of Manufacture'\n                                    name=\"yearOfManufacture\" type=\"number\" onChange={onChange}\n                                    values={values.vehicleDetails.yearOfManufacture} />\n                            </Form.Field>\n                        </Form.Group>\n                        <Divider horizontal>Premiums Details</Divider>\n                        <Form.Group widths='equal'>\n                            <Form.Field required error={errors.errorPaths.includes('premiumType')}>\n                                <label>Premium Type</label>\n                                <Input fluid placeholder='Basic Premium'\n                                    name=\"premiumType\"\n                                    value=\"Basic Premium\" />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('minimumPremiumAmount')}>\n                                <label>Minimum Premium Amount</label>\n                                <Input fluid placeholder='Minimum Premium Amount'\n                                    name=\"minimumPremiumAmount\" type=\"number\"\n                                    onChange={onChange}\n                                    values={values.minimumPremiumAmount} />\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('commissionRate')}>\n                                <label>Commission Rate (%)</label>\n                                <Input fluid placeholder='Commission Rate'\n                                    name=\"commissionRate\"\n                                    type=\"number\" step=\"any\"\n                                    onChange={onChange}\n                                    value={values.commissionRate} />\n                            </Form.Field>\n                        </Form.Group>\n                        <Divider horizontal>Additional Benefits</Divider>\n\n                        < Form.Group widths='equal'>\n                            <Form.Field>\n                                <Button icon floated='right' onClick={handleAddAdditionalBenefit}>\n                                    <Icon name='plus square outline' />\n                                </Button>\n                            </Form.Field>\n                        </Form.Group>\n                        {addBenefitCount.map(key => (\n                            < Form.Group widths='equal' key={key}>\n                                <Form.Field>\n                                    <label>Additional Benefit Type</label>\n                                    {policyOpts && policyOpts.additional_benefit_options && <PremiumTypes\n                                        premiumTypes={policyOpts.additional_benefit_options}\n                                        placeholder='Select Additional Benefit Type'\n                                        id={key}\n                                        handleOnPremiumTypesChange={handleOnAddBenefitTypesChange}\n                                    />}\n                                </Form.Field>\n                                <Form.Field>\n                                    <label>Minimum Benefit Amount</label>\n                                    <Input fluid placeholder='Minimum Additional Benefit Amount'\n                                        id={key}\n                                        name=\"minimumAmount\" type=\"number\"\n                                        onChange={handleOnAddBenefitTypesChange}\n\n                                        values={values.minimumPremiumAmount} />\n                                </Form.Field>\n                                <Form.Field>\n\n                                    <Grid>\n                                        <label><b>Commission Rate</b></label>\n                                        <Grid.Column width={12}>\n                                            <Input fluid placeholder='Commission Rate'\n                                                name=\"commissionRate\"\n                                                type=\"number\" step=\"any\"\n                                                id={key}\n                                                onChange={handleOnAddBenefitTypesChange}\n                                                values={values.commissionRate} />\n                                        </Grid.Column>\n                                        <Grid.Column width={4}>\n                                            <Button id={key} key={key} icon floated='right' onClick={handleRemoveAdditionalBenefit} size=\"small\">\n                                                <Icon name='trash alternate' id={key} key={key} />\n                                            </Button>\n                                        </Grid.Column>\n                                    </Grid>\n                                </Form.Field>\n                            </Form.Group>))}\n                        <Divider horizontal>Additional Premiums</Divider>\n                        {addPremiumCount.map(key => (<Form.Group widths={2} key={key}>\n                            <Form.Field>\n                                <label>Premium Type</label>\n                                {policyOpts && policyOpts.premium_type_options &&\n                                    <Input fluid\n                                        name=\"premiumType\"\n                                        value={policyOpts.premium_type_options[addPremiums[key].premium]} />}\n                            </Form.Field>\n                            {addPremiums[key].commissionRate ? <Form.Field>\n                                <label className=\"ui center aligned\">Commission Rate (%)</label>\n                                <Input fluid placeholder='Commission Rate'\n                                    name=\"commissionRate\"\n                                    type=\"number\" step=\"any\"\n                                    id={key}\n                                    onChange={handleOnAddPremTypesChange}\n                                    value={addPremiums[key] ? addPremiums[key].commissionRate : \"\"} />\n                            </Form.Field> : <Form.Field></Form.Field>}\n                            <Form.Field>\n                                <label className=\"ui center aligned\">Premium Amount</label>\n                                <Grid>\n                                    <Grid.Row centered width={4}>\n                                        <Label size=\"large\">{addPremiums[key] && addPremiums[key].amount ? addPremiums[key].amount : addPremiums[key].minimumAmount ? addPremiums[key].minimumAmount : \"0\"}</Label>\n                                    </Grid.Row>\n                                </Grid>\n                            </Form.Field>\n                        </Form.Group>))}\n                        <Divider horizontal>Totals</Divider>\n                        <Form.Group widths='equal'>\n                            <Form.Field >\n                                <label>Gross Premium</label>\n                                <Label size=\"large\">{calculated.grossPremium}</Label>\n                            </Form.Field>\n                            <Form.Field required error={errors.errorPaths.includes('policyCommissionRate')}>\n                                <label>Commission rate (%)</label>\n                                <Input fluid placeholder='Commission Rate'\n                                    name=\"policyCommissionRate\"\n                                    type=\"number\" onChange={onChange}\n                                    value={values.policyCommissionRate ? values.policyCommissionRate : \"\"} />\n                            </Form.Field>\n                            <Form.Field>\n                                <label>Gross Commission</label>\n                                <Label size=\"large\">{calculated.grossCommission}</Label>\n\n                            </Form.Field>\n                            {/* </Form.Group>\n                        <Form.Group widths='equal'> */}\n                            <Form.Field>\n                                <label>Withholding Tax</label>\n                                <Label size=\"large\">{calculated.withholdingTax}</Label>\n\n                            </Form.Field>\n                            <Form.Field>\n                                <label>Net Commission</label>\n                                <Label size=\"large\">{calculated.netCommission}</Label>\n                            </Form.Field>\n                        </Form.Group>\n\n                        <Divider horizontal>Remarks</Divider>\n                        <CKEditor\n                            editor={ClassicEditor}\n                            data={values.remarks}\n                            onChange={(event, editor) => {\n                                const data = editor.getData();\n                                setValues({ ...values, remarks: data })\n\n                            }} />\n                        <Divider horizontal>...</Divider>\n                        <Button type='submit'>Preview Motor Policy</Button>\n\n                    </Form>\n                </Grid.Column>\n            </Grid>\n        </Container >\n    )\n}\n"]},"metadata":{},"sourceType":"module"}