{"ast":null,"code":"var _jsxFileName = \"/home/actserv/Documents/brooks_insurance_agency_software/brooks-insurance-front-end/src/components/messages/messageDetails.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Grid, Container, Divider, Header, Icon, Segment, Item, Menu, Tab, Loader } from 'semantic-ui-react';\nimport moment from 'moment';\nimport 'react-chat-elements/dist/main.css';\nimport { MessageList, Input, Button } from 'react-chat-elements';\nimport { useQuery } from '@apollo/react-hooks';\nimport { GET_WHATSAPP_MESSAGES } from './queries';\nimport { AuthContext } from '../../context/auth';\nimport { WhatsAppMessageContext } from '../../context/whatsappMessages';\nexport default function WhatsAppMessage({\n  props\n}) {\n  const authContext = useContext(AuthContext);\n  const [messages, setMessages] = useState([]);\n  const context = useContext(WhatsAppMessageContext);\n  const whatsappPhoneNumber = props.computedMatch.params.whatsappPhoneNumber;\n  let recipientsColumns = 1;\n  const [fetched, setFetched] = useState(false);\n  const [pagination, setPagination] = useState({\n    limit: 10,\n    page: 1,\n    whatsappPhoneNumber: whatsappPhoneNumber\n  });\n  const {\n    loading,\n    data\n  } = useQuery(GET_WHATSAPP_MESSAGES, {\n    variables: pagination\n  });\n  useEffect(() => {\n    if (data) {\n      setMessages(data.whatsappMessage);\n      setFetched(true);\n    }\n\n    console.log(data);\n  }, [data, context, fetched]);\n\n  function messageDetails() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, messages.items ? messages.map((message, key) => /*#__PURE__*/React.createElement(MessageList, {\n      className: \"message-list\",\n      lockable: true,\n      toBottomHeight: '100%',\n      dataSource: [{\n        position: 'right',\n        type: 'text',\n        text: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit',\n        date: new Date()\n      }, {\n        position: 'left',\n        type: 'text',\n        text: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit',\n        date: new Date()\n      }, {\n        position: 'right',\n        type: 'text',\n        text: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit',\n        date: new Date()\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    })) : \"No messages\", /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"Type here...\",\n      multiline: true,\n      rightButtons: /*#__PURE__*/React.createElement(Button, {\n        color: \"white\",\n        backgroundColor: \"black\",\n        text: \"Send\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  const panes = [{\n    menuItem: /*#__PURE__*/React.createElement(Menu.Item, {\n      key: \"Message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, \"Message Details\"),\n    render: () => {\n      return /*#__PURE__*/React.createElement(Tab.Pane, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, messageDetails());\n    }\n  }];\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    columns: 1,\n    padded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    as: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Header.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/staff/dashboard/overview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 33\n    }\n  }, \"Overview\"), \" \", '>', \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/staff/dashboard/crm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 88\n    }\n  }, \"CRM\"), \" \", '>', \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/staff/dashboard/crm/messages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 133\n    }\n  }, \"Messages\"), \" \", '>', \" Message Details\", /*#__PURE__*/React.createElement(Header.Subheader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 33\n    }\n  }, \"Hey there \", authContext.user.username, \", find a list of motor policies under General Insurance below\")))))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    padded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    panes: panes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }))));\n}","map":{"version":3,"sources":["/home/actserv/Documents/brooks_insurance_agency_software/brooks-insurance-front-end/src/components/messages/messageDetails.js"],"names":["React","useState","useContext","useEffect","Link","Grid","Container","Divider","Header","Icon","Segment","Item","Menu","Tab","Loader","moment","MessageList","Input","Button","useQuery","GET_WHATSAPP_MESSAGES","AuthContext","WhatsAppMessageContext","WhatsAppMessage","props","authContext","messages","setMessages","context","whatsappPhoneNumber","computedMatch","params","recipientsColumns","fetched","setFetched","pagination","setPagination","limit","page","loading","data","variables","whatsappMessage","console","log","messageDetails","items","map","message","key","position","type","text","date","Date","panes","menuItem","render","user","username"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n    Grid,\n    Container,\n    Divider,\n    Header,\n    Icon,\n    Segment,\n    Item,\n    Menu,\n    Tab,\n    Loader\n} from 'semantic-ui-react';\nimport moment from 'moment';\nimport 'react-chat-elements/dist/main.css';\nimport { MessageList,Input,Button} from 'react-chat-elements';\nimport { useQuery } from '@apollo/react-hooks';\nimport { GET_WHATSAPP_MESSAGES } from './queries'\nimport { AuthContext } from '../../context/auth';\nimport { WhatsAppMessageContext } from '../../context/whatsappMessages';\n\nexport default function WhatsAppMessage({ props }) {\n    const authContext = useContext(AuthContext);\n    const [messages, setMessages] = useState([]);\n    const context = useContext(WhatsAppMessageContext);\n    const whatsappPhoneNumber = props.computedMatch.params.whatsappPhoneNumber\n    let recipientsColumns = 1\n    const [fetched, setFetched] = useState(false);\n    const [pagination, setPagination] = useState({\n        limit: 10,\n        page: 1,\n        whatsappPhoneNumber:whatsappPhoneNumber\n    });\n\n    const { loading, data } = useQuery(GET_WHATSAPP_MESSAGES, { variables: pagination });\n    useEffect(() => {\n        if (data) {\n        setMessages(data.whatsappMessage);\n        setFetched(true);\n\n        }\n        console.log(data)\n    }, [data, context, fetched,]);\n\n    function messageDetails() {\n        return (\n            <Container>\n\n                { messages.items ? messages.map((message, key) =>\n                <MessageList\n                className='message-list'\n                lockable={true}\n                toBottomHeight={'100%'}\n                dataSource={[\n                    {\n                        position: 'right',\n                        type: 'text',\n                        text: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit',\n                        date: new Date(),\n                    },\n                    {\n                        position: 'left',\n                        type: 'text',\n                        text: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit',\n                        date: new Date(),\n                    },\n                    {\n                        position: 'right',\n                        type: 'text',\n                        text: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit',\n                        date: new Date(),\n                    },\n                ]} />\n                ): \"No messages\"}\n                <Divider></Divider>    \n                <Input\n                    placeholder=\"Type here...\"\n                    multiline={true}\n                    rightButtons={\n                        <Button\n                            color='white'\n                            backgroundColor='black'\n                            text='Send'/>\n                    }/>\n            </Container>\n        )\n    }\n\n\n    const panes = [\n        {\n            menuItem: (\n                <Menu.Item key='Message'>\n                    Message Details\n                </Menu.Item>\n            ),\n            render: () => {\n                return (\n                    <Tab.Pane>\n                        {messageDetails()}\n\n                    </Tab.Pane>\n                )\n            },\n        }\n    ]\n\n    return (\n        <Container>\n            <Grid container columns={1} padded>\n                <Grid.Column>\n                    <div className=\"content-wrapper\">\n                        <Header as='h2'>\n                            <Icon name='file' />\n                            <Header.Content>\n                                <a href=\"/staff/dashboard/overview\">Overview</a> {'>'} <a href=\"/staff/dashboard/crm\">CRM</a> {'>'} <a href=\"/staff/dashboard/crm/messages\">Messages</a> {'>'} Message Details\n                                <Header.Subheader>\n                                    Hey there {authContext.user.username}, find a list of motor policies under General Insurance below\n                                </Header.Subheader>\n                            </Header.Content>\n                        </Header>\n                    </div>\n                </Grid.Column>\n            </Grid>\n\n\n\n            <Grid container padded>\n                <Grid.Column>\n                    <Tab panes={panes} />\n                </Grid.Column>\n            </Grid>\n\n        </Container>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}