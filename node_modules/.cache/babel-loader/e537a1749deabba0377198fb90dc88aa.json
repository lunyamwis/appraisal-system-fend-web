{"ast":null,"code":"/*! For license information please see shifty.js.LICENSE.txt */\n!function (t, n) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = n() : \"function\" == typeof define && define.amd ? define(\"shifty\", [], n) : \"object\" == typeof exports ? exports.shifty = n() : t.shifty = n();\n}(self, function () {\n  return function () {\n    \"use strict\";\n\n    var t = {\n      720: function (t, n, e) {\n        e.r(n), e.d(n, {\n          Scene: function () {\n            return Xt;\n          },\n          Tweenable: function () {\n            return _t;\n          },\n          interpolate: function () {\n            return Wt;\n          },\n          processTweens: function () {\n            return ft;\n          },\n          setBezierFunction: function () {\n            return Yt;\n          },\n          tween: function () {\n            return yt;\n          },\n          unsetBezierFunction: function () {\n            return Zt;\n          }\n        });\n        var r = {};\n        e.r(r), e.d(r, {\n          bounce: function () {\n            return D;\n          },\n          bouncePast: function () {\n            return q;\n          },\n          easeFrom: function () {\n            return B;\n          },\n          easeFromTo: function () {\n            return Q;\n          },\n          easeInBack: function () {\n            return T;\n          },\n          easeInCirc: function () {\n            return j;\n          },\n          easeInCubic: function () {\n            return c;\n          },\n          easeInExpo: function () {\n            return w;\n          },\n          easeInOutBack: function () {\n            return F;\n          },\n          easeInOutCirc: function () {\n            return P;\n          },\n          easeInOutCubic: function () {\n            return l;\n          },\n          easeInOutExpo: function () {\n            return S;\n          },\n          easeInOutQuad: function () {\n            return s;\n          },\n          easeInOutQuart: function () {\n            return v;\n          },\n          easeInOutQuint: function () {\n            return d;\n          },\n          easeInOutSine: function () {\n            return b;\n          },\n          easeInQuad: function () {\n            return o;\n          },\n          easeInQuart: function () {\n            return h;\n          },\n          easeInQuint: function () {\n            return _;\n          },\n          easeInSine: function () {\n            return m;\n          },\n          easeOutBack: function () {\n            return E;\n          },\n          easeOutBounce: function () {\n            return M;\n          },\n          easeOutCirc: function () {\n            return k;\n          },\n          easeOutCubic: function () {\n            return f;\n          },\n          easeOutExpo: function () {\n            return O;\n          },\n          easeOutQuad: function () {\n            return a;\n          },\n          easeOutQuart: function () {\n            return p;\n          },\n          easeOutQuint: function () {\n            return y;\n          },\n          easeOutSine: function () {\n            return g;\n          },\n          easeTo: function () {\n            return N;\n          },\n          elastic: function () {\n            return x;\n          },\n          linear: function () {\n            return u;\n          },\n          swingFrom: function () {\n            return I;\n          },\n          swingFromTo: function () {\n            return A;\n          },\n          swingTo: function () {\n            return C;\n          }\n        });\n        var i = {};\n        e.r(i), e.d(i, {\n          afterTween: function () {\n            return Nt;\n          },\n          beforeTween: function () {\n            return Bt;\n          },\n          doesApply: function () {\n            return qt;\n          },\n          tweenCreated: function () {\n            return Qt;\n          }\n        });\n\n        var u = function (t) {\n          return t;\n        },\n            o = function (t) {\n          return Math.pow(t, 2);\n        },\n            a = function (t) {\n          return -(Math.pow(t - 1, 2) - 1);\n        },\n            s = function (t) {\n          return (t /= .5) < 1 ? .5 * Math.pow(t, 2) : -.5 * ((t -= 2) * t - 2);\n        },\n            c = function (t) {\n          return Math.pow(t, 3);\n        },\n            f = function (t) {\n          return Math.pow(t - 1, 3) + 1;\n        },\n            l = function (t) {\n          return (t /= .5) < 1 ? .5 * Math.pow(t, 3) : .5 * (Math.pow(t - 2, 3) + 2);\n        },\n            h = function (t) {\n          return Math.pow(t, 4);\n        },\n            p = function (t) {\n          return -(Math.pow(t - 1, 4) - 1);\n        },\n            v = function (t) {\n          return (t /= .5) < 1 ? .5 * Math.pow(t, 4) : -.5 * ((t -= 2) * Math.pow(t, 3) - 2);\n        },\n            _ = function (t) {\n          return Math.pow(t, 5);\n        },\n            y = function (t) {\n          return Math.pow(t - 1, 5) + 1;\n        },\n            d = function (t) {\n          return (t /= .5) < 1 ? .5 * Math.pow(t, 5) : .5 * (Math.pow(t - 2, 5) + 2);\n        },\n            m = function (t) {\n          return 1 - Math.cos(t * (Math.PI / 2));\n        },\n            g = function (t) {\n          return Math.sin(t * (Math.PI / 2));\n        },\n            b = function (t) {\n          return -.5 * (Math.cos(Math.PI * t) - 1);\n        },\n            w = function (t) {\n          return 0 === t ? 0 : Math.pow(2, 10 * (t - 1));\n        },\n            O = function (t) {\n          return 1 === t ? 1 : 1 - Math.pow(2, -10 * t);\n        },\n            S = function (t) {\n          return 0 === t ? 0 : 1 === t ? 1 : (t /= .5) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * --t));\n        },\n            j = function (t) {\n          return -(Math.sqrt(1 - t * t) - 1);\n        },\n            k = function (t) {\n          return Math.sqrt(1 - Math.pow(t - 1, 2));\n        },\n            P = function (t) {\n          return (t /= .5) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n        },\n            M = function (t) {\n          return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;\n        },\n            T = function (t) {\n          var n = 1.70158;\n          return t * t * ((n + 1) * t - n);\n        },\n            E = function (t) {\n          var n = 1.70158;\n          return (t -= 1) * t * ((n + 1) * t + n) + 1;\n        },\n            F = function (t) {\n          var n = 1.70158;\n          return (t /= .5) < 1 ? t * t * ((1 + (n *= 1.525)) * t - n) * .5 : .5 * ((t -= 2) * t * ((1 + (n *= 1.525)) * t + n) + 2);\n        },\n            x = function (t) {\n          return -1 * Math.pow(4, -8 * t) * Math.sin((6 * t - 1) * (2 * Math.PI) / 2) + 1;\n        },\n            A = function (t) {\n          var n = 1.70158;\n          return (t /= .5) < 1 ? t * t * ((1 + (n *= 1.525)) * t - n) * .5 : .5 * ((t -= 2) * t * ((1 + (n *= 1.525)) * t + n) + 2);\n        },\n            I = function (t) {\n          var n = 1.70158;\n          return t * t * ((n + 1) * t - n);\n        },\n            C = function (t) {\n          var n = 1.70158;\n          return (t -= 1) * t * ((n + 1) * t + n) + 1;\n        },\n            D = function (t) {\n          return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;\n        },\n            q = function (t) {\n          return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 2 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 2 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 2 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375);\n        },\n            Q = function (t) {\n          return (t /= .5) < 1 ? .5 * Math.pow(t, 4) : -.5 * ((t -= 2) * Math.pow(t, 3) - 2);\n        },\n            B = function (t) {\n          return Math.pow(t, 4);\n        },\n            N = function (t) {\n          return Math.pow(t, .25);\n        };\n\n        function R(t, n) {\n          if (!(t instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n\n        function z(t, n) {\n          for (var e = 0; e < n.length; e++) {\n            var r = n[e];\n            r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n          }\n        }\n\n        function L(t) {\n          return (L = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n            return typeof t;\n          } : function (t) {\n            return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n          })(t);\n        }\n\n        function U(t, n) {\n          var e = Object.keys(t);\n\n          if (Object.getOwnPropertySymbols) {\n            var r = Object.getOwnPropertySymbols(t);\n            n && (r = r.filter(function (n) {\n              return Object.getOwnPropertyDescriptor(t, n).enumerable;\n            })), e.push.apply(e, r);\n          }\n\n          return e;\n        }\n\n        function V(t) {\n          for (var n = 1; n < arguments.length; n++) {\n            var e = null != arguments[n] ? arguments[n] : {};\n            n % 2 ? U(Object(e), !0).forEach(function (n) {\n              W(t, n, e[n]);\n            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(e)) : U(Object(e)).forEach(function (n) {\n              Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(e, n));\n            });\n          }\n\n          return t;\n        }\n\n        function W(t, n, e) {\n          return n in t ? Object.defineProperty(t, n, {\n            value: e,\n            enumerable: !0,\n            configurable: !0,\n            writable: !0\n          }) : t[n] = e, t;\n        }\n\n        var $,\n            G,\n            H,\n            J = \"linear\",\n            K = \"undefined\" != typeof window ? window : e.g,\n            X = \"afterTween\",\n            Y = \"afterTweenEnd\",\n            Z = \"beforeTween\",\n            tt = \"tweenCreated\",\n            nt = \"function\",\n            et = \"string\",\n            rt = K.requestAnimationFrame || K.webkitRequestAnimationFrame || K.oRequestAnimationFrame || K.msRequestAnimationFrame || K.mozCancelRequestAnimationFrame && K.mozRequestAnimationFrame || setTimeout,\n            it = function () {},\n            ut = null,\n            ot = null,\n            at = V({}, r),\n            st = function (t, n, e, r, i, u, o) {\n          var a,\n              s,\n              c,\n              f = t < u ? 0 : (t - u) / i,\n              l = !1;\n\n          for (var h in o && o.call && (l = !0, a = o(f)), n) l || (a = ((s = o[h]).call ? s : at[s])(f)), c = e[h], n[h] = c + (r[h] - c) * a;\n\n          return n;\n        },\n            ct = function (t, n) {\n          var e = t._timestamp,\n              r = t._currentState,\n              i = t._delay;\n\n          if (!(n < e + i)) {\n            var u = t._duration,\n                o = t._targetState,\n                a = e + i + u,\n                s = n > a ? a : n,\n                c = s >= a,\n                f = u - (a - s),\n                l = t._filters.length > 0;\n            if (c) return t._render(o, t._data, f), t.stop(!0);\n            l && t._applyFilter(Z), s < e + i ? e = u = s = 1 : e += i, st(s, r, t._originalState, o, u, e, t._easing), l && t._applyFilter(X), t._render(r, t._data, f);\n          }\n        },\n            ft = function () {\n          for (var t, n = _t.now(), e = ut; e;) t = e._next, ct(e, n), e = t;\n        },\n            lt = Date.now || function () {\n          return +new Date();\n        },\n            ht = function (t) {\n          var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : J,\n              e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\n              r = L(n);\n          if (at[n]) return at[n];\n          if (r === et || r === nt) for (var i in t) e[i] = n;else for (var u in t) e[u] = n[u] || J;\n          return e;\n        },\n            pt = function (t) {\n          t === ut ? (ut = t._next) ? ut._previous = null : ot = null : t === ot ? (ot = t._previous) ? ot._next = null : ut = null : (G = t._previous, H = t._next, G._next = H, H._previous = G), t._previous = t._next = null;\n        },\n            vt = \"function\" == typeof Promise ? Promise : null,\n            _t = function () {\n          function t() {\n            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0;\n            R(this, t), this._config = {}, this._data = {}, this._delay = 0, this._filters = [], this._next = null, this._previous = null, this._timestamp = null, this._resolve = null, this._reject = null, this._currentState = n || {}, this._originalState = {}, this._targetState = {}, this._start = it, this._render = it, this._promiseCtor = vt, e && this.setConfig(e);\n          }\n\n          var n, e;\n          return n = t, (e = [{\n            key: \"_applyFilter\",\n            value: function (t) {\n              for (var n = this._filters.length; n > 0; n--) {\n                var e = this._filters[n - n][t];\n                e && e(this);\n              }\n            }\n          }, {\n            key: \"tween\",\n            value: function () {\n              var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0;\n              return this._isPlaying && this.stop(), !n && this._config || this.setConfig(n), this._pausedAtTime = null, this._timestamp = t.now(), this._start(this.get(), this._data), this._delay && this._render(this._currentState, this._data, 0), this._resume(this._timestamp);\n            }\n          }, {\n            key: \"setConfig\",\n            value: function () {\n              var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n                  e = this._config;\n\n              for (var r in n) e[r] = n[r];\n\n              var i = e.promise,\n                  u = void 0 === i ? this._promiseCtor : i,\n                  o = e.start,\n                  a = void 0 === o ? it : o,\n                  s = e.finish,\n                  c = e.render,\n                  f = void 0 === c ? this._config.step || it : c,\n                  l = e.step,\n                  h = void 0 === l ? it : l;\n              this._data = e.data || e.attachment || this._data, this._isPlaying = !1, this._pausedAtTime = null, this._scheduleId = null, this._delay = n.delay || 0, this._start = a, this._render = f || h, this._duration = e.duration || 500, this._promiseCtor = u, s && (this._resolve = s);\n\n              var p = n.from,\n                  v = n.to,\n                  _ = void 0 === v ? {} : v,\n                  y = this._currentState,\n                  d = this._originalState,\n                  m = this._targetState;\n\n              for (var g in p) y[g] = p[g];\n\n              var b = !1;\n\n              for (var w in y) {\n                var O = y[w];\n                b || L(O) !== et || (b = !0), d[w] = O, m[w] = _.hasOwnProperty(w) ? _[w] : O;\n              }\n\n              if (this._easing = ht(this._currentState, e.easing, this._easing), this._filters.length = 0, b) {\n                for (var S in t.filters) t.filters[S].doesApply(this) && this._filters.push(t.filters[S]);\n\n                this._applyFilter(tt);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"then\",\n            value: function (t, n) {\n              var e = this;\n              return this._promise = new this._promiseCtor(function (t, n) {\n                e._resolve = t, e._reject = n;\n              }), this._promise.then(t, n);\n            }\n          }, {\n            key: \"catch\",\n            value: function (t) {\n              return this.then().catch(t);\n            }\n          }, {\n            key: \"get\",\n            value: function () {\n              return V({}, this._currentState);\n            }\n          }, {\n            key: \"set\",\n            value: function (t) {\n              this._currentState = t;\n            }\n          }, {\n            key: \"pause\",\n            value: function () {\n              if (this._isPlaying) return this._pausedAtTime = t.now(), this._isPlaying = !1, pt(this), this;\n            }\n          }, {\n            key: \"resume\",\n            value: function () {\n              return this._resume();\n            }\n          }, {\n            key: \"_resume\",\n            value: function () {\n              var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : t.now();\n              return null === this._timestamp ? this.tween() : this._isPlaying ? this._promise : (this._pausedAtTime && (this._timestamp += n - this._pausedAtTime, this._pausedAtTime = null), this._isPlaying = !0, null === ut ? (ut = this, ot = this) : (this._previous = ot, ot._next = this, ot = this), this);\n            }\n          }, {\n            key: \"seek\",\n            value: function (n) {\n              n = Math.max(n, 0);\n              var e = t.now();\n              return this._timestamp + n === 0 || (this._timestamp = e - n, ct(this, e)), this;\n            }\n          }, {\n            key: \"stop\",\n            value: function () {\n              var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n              if (!this._isPlaying) return this;\n              this._isPlaying = !1, pt(this);\n              var n = this._filters.length > 0;\n              t && (n && this._applyFilter(Z), st(1, this._currentState, this._originalState, this._targetState, 1, 0, this._easing), n && (this._applyFilter(X), this._applyFilter(Y))), this._resolve && this._resolve({\n                data: this._data,\n                state: this._currentState,\n                tweenable: this\n              }), this._resolve = null, this._reject = null;\n              var e = this._currentState,\n                  r = this._originalState,\n                  i = this._targetState;\n\n              for (var u in e) r[u] = i[u] = e[u];\n\n              return this;\n            }\n          }, {\n            key: \"cancel\",\n            value: function () {\n              var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],\n                  n = this._currentState,\n                  e = this._data,\n                  r = this._isPlaying;\n              return r ? (this._reject && this._reject({\n                data: e,\n                state: n,\n                tweenable: this\n              }), this._resolve = null, this._reject = null, this.stop(t)) : this;\n            }\n          }, {\n            key: \"isPlaying\",\n            value: function () {\n              return this._isPlaying;\n            }\n          }, {\n            key: \"setScheduleFunction\",\n            value: function (n) {\n              t.setScheduleFunction(n);\n            }\n          }, {\n            key: \"data\",\n            value: function () {\n              var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;\n              return t && (this._data = V({}, t)), this._data;\n            }\n          }, {\n            key: \"dispose\",\n            value: function () {\n              for (var t in this) delete this[t];\n            }\n          }]) && z(n.prototype, e), t;\n        }();\n\n        function yt() {\n          var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n              n = new _t();\n          return n.tween(t), n.tweenable = n, n;\n        }\n\n        W(_t, \"now\", function () {\n          return $;\n        }), _t.setScheduleFunction = function (t) {\n          return rt = t;\n        }, _t.formulas = at, _t.filters = {}, function t() {\n          $ = lt(), rt.call(K, t, 16.666666666666668), ft();\n        }();\n\n        var dt,\n            mt,\n            gt = /(\\d|-|\\.)/,\n            bt = /([^\\-0-9.]+)/g,\n            wt = /[0-9.-]+/g,\n            Ot = (dt = wt.source, mt = /,\\s*/.source, new RegExp(\"rgb\\\\(\".concat(dt).concat(mt).concat(dt).concat(mt).concat(dt, \"\\\\)\"), \"g\")),\n            St = /^.*\\(/,\n            jt = /#([0-9]|[a-f]){3,6}/gi,\n            kt = \"VAL\",\n            Pt = function (t, n) {\n          return t.map(function (t, e) {\n            return \"_\".concat(n, \"_\").concat(e);\n          });\n        };\n\n        function Mt(t) {\n          return parseInt(t, 16);\n        }\n\n        var Tt = function (t) {\n          return \"rgb(\".concat((n = t, 3 === (n = n.replace(/#/, \"\")).length && (n = (n = n.split(\"\"))[0] + n[0] + n[1] + n[1] + n[2] + n[2]), [Mt(n.substr(0, 2)), Mt(n.substr(2, 2)), Mt(n.substr(4, 2))]).join(\",\"), \")\");\n          var n;\n        },\n            Et = function (t, n, e) {\n          var r = n.match(t),\n              i = n.replace(t, kt);\n          return r && r.forEach(function (t) {\n            return i = i.replace(kt, e(t));\n          }), i;\n        },\n            Ft = function (t) {\n          for (var n in t) {\n            var e = t[n];\n            \"string\" == typeof e && e.match(jt) && (t[n] = Et(jt, e, Tt));\n          }\n        },\n            xt = function (t) {\n          var n = t.match(wt).map(Math.floor),\n              e = t.match(St)[0];\n          return \"\".concat(e).concat(n.join(\",\"), \")\");\n        },\n            At = function (t) {\n          return t.match(wt);\n        },\n            It = function (t, n) {\n          var e = {};\n          return n.forEach(function (n) {\n            e[n] = t[n], delete t[n];\n          }), e;\n        },\n            Ct = function (t, n) {\n          return n.map(function (n) {\n            return t[n];\n          });\n        },\n            Dt = function (t, n) {\n          return n.forEach(function (n) {\n            return t = t.replace(kt, +n.toFixed(4));\n          }), t;\n        },\n            qt = function (t) {\n          for (var n in t._currentState) if (\"string\" == typeof t._currentState[n]) return !0;\n\n          return !1;\n        };\n\n        function Qt(t) {\n          var n = t._currentState;\n          [n, t._originalState, t._targetState].forEach(Ft), t._tokenData = function (t) {\n            var n,\n                e,\n                r = {};\n\n            for (var i in t) {\n              var u = t[i];\n              \"string\" == typeof u && (r[i] = {\n                formatString: (n = u, e = void 0, e = n.match(bt), e ? (1 === e.length || n.charAt(0).match(gt)) && e.unshift(\"\") : e = [\"\", \"\"], e.join(kt)),\n                chunkNames: Pt(At(u), i)\n              });\n            }\n\n            return r;\n          }(n);\n        }\n\n        function Bt(t) {\n          var n = t._currentState,\n              e = t._originalState,\n              r = t._targetState,\n              i = t._easing,\n              u = t._tokenData;\n          !function (t, n) {\n            var e = function (e) {\n              var r = n[e].chunkNames,\n                  i = t[e];\n\n              if (\"string\" == typeof i) {\n                var u = i.split(\" \"),\n                    o = u[u.length - 1];\n                r.forEach(function (n, e) {\n                  return t[n] = u[e] || o;\n                });\n              } else r.forEach(function (n) {\n                return t[n] = i;\n              });\n\n              delete t[e];\n            };\n\n            for (var r in n) e(r);\n          }(i, u), [n, e, r].forEach(function (t) {\n            return function (t, n) {\n              var e = function (e) {\n                At(t[e]).forEach(function (r, i) {\n                  return t[n[e].chunkNames[i]] = +r;\n                }), delete t[e];\n              };\n\n              for (var r in n) e(r);\n            }(t, u);\n          });\n        }\n\n        function Nt(t) {\n          var n = t._currentState,\n              e = t._originalState,\n              r = t._targetState,\n              i = t._easing,\n              u = t._tokenData;\n          [n, e, r].forEach(function (t) {\n            return function (t, n) {\n              for (var e in n) {\n                var r = n[e],\n                    i = r.chunkNames,\n                    u = r.formatString,\n                    o = Dt(u, Ct(It(t, i), i));\n                t[e] = Et(Ot, o, xt);\n              }\n            }(t, u);\n          }), function (t, n) {\n            for (var e in n) {\n              var r = n[e].chunkNames,\n                  i = t[r[0]];\n              t[e] = \"string\" == typeof i ? r.map(function (n) {\n                var e = t[n];\n                return delete t[n], e;\n              }).join(\" \") : i;\n            }\n          }(i, u);\n        }\n\n        function Rt(t, n) {\n          var e = Object.keys(t);\n\n          if (Object.getOwnPropertySymbols) {\n            var r = Object.getOwnPropertySymbols(t);\n            n && (r = r.filter(function (n) {\n              return Object.getOwnPropertyDescriptor(t, n).enumerable;\n            })), e.push.apply(e, r);\n          }\n\n          return e;\n        }\n\n        function zt(t) {\n          for (var n = 1; n < arguments.length; n++) {\n            var e = null != arguments[n] ? arguments[n] : {};\n            n % 2 ? Rt(Object(e), !0).forEach(function (n) {\n              Lt(t, n, e[n]);\n            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(e)) : Rt(Object(e)).forEach(function (n) {\n              Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(e, n));\n            });\n          }\n\n          return t;\n        }\n\n        function Lt(t, n, e) {\n          return n in t ? Object.defineProperty(t, n, {\n            value: e,\n            enumerable: !0,\n            configurable: !0,\n            writable: !0\n          }) : t[n] = e, t;\n        }\n\n        var Ut = new _t(),\n            Vt = _t.filters,\n            Wt = function (t, n, e, r) {\n          var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,\n              u = zt({}, t),\n              o = ht(t, r);\n\n          for (var a in Ut._filters.length = 0, Ut.set({}), Ut._currentState = u, Ut._originalState = t, Ut._targetState = n, Ut._easing = o, Vt) Vt[a].doesApply(Ut) && Ut._filters.push(Vt[a]);\n\n          Ut._applyFilter(\"tweenCreated\"), Ut._applyFilter(\"beforeTween\");\n          var s = st(e, u, t, n, 1, i, o);\n          return Ut._applyFilter(\"afterTween\"), s;\n        };\n\n        function $t(t, n) {\n          (null == n || n > t.length) && (n = t.length);\n\n          for (var e = 0, r = new Array(n); e < n; e++) r[e] = t[e];\n\n          return r;\n        }\n\n        function Gt(t, n) {\n          if (!(t instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n\n        function Ht(t, n) {\n          for (var e = 0; e < n.length; e++) {\n            var r = n[e];\n            r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n          }\n        }\n\n        function Jt(t, n) {\n          var e = n.get(t);\n          if (!e) throw new TypeError(\"attempted to get private field on non-instance\");\n          return e.get ? e.get.call(t) : e.value;\n        }\n\n        var Kt = new WeakMap(),\n            Xt = function () {\n          function t() {\n            Gt(this, t), Kt.set(this, {\n              writable: !0,\n              value: []\n            });\n\n            for (var n = arguments.length, e = new Array(n), r = 0; r < n; r++) e[r] = arguments[r];\n\n            e.forEach(this.add.bind(this));\n          }\n\n          var n, e;\n          return n = t, (e = [{\n            key: \"add\",\n            value: function (t) {\n              return Jt(this, Kt).push(t), t;\n            }\n          }, {\n            key: \"remove\",\n            value: function (t) {\n              var n = Jt(this, Kt).indexOf(t);\n              return ~n && Jt(this, Kt).splice(n, 1), t;\n            }\n          }, {\n            key: \"empty\",\n            value: function () {\n              return this.tweenables.map(this.remove.bind(this));\n            }\n          }, {\n            key: \"isPlaying\",\n            value: function () {\n              return Jt(this, Kt).some(function (t) {\n                return t.isPlaying();\n              });\n            }\n          }, {\n            key: \"play\",\n            value: function () {\n              return Jt(this, Kt).forEach(function (t) {\n                return t.tween();\n              }), this;\n            }\n          }, {\n            key: \"pause\",\n            value: function () {\n              return Jt(this, Kt).forEach(function (t) {\n                return t.pause();\n              }), this;\n            }\n          }, {\n            key: \"resume\",\n            value: function () {\n              return Jt(this, Kt).forEach(function (t) {\n                return t.resume();\n              }), this;\n            }\n          }, {\n            key: \"stop\",\n            value: function (t) {\n              return Jt(this, Kt).forEach(function (n) {\n                return n.stop(t);\n              }), this;\n            }\n          }, {\n            key: \"tweenables\",\n            get: function () {\n              return function (t) {\n                if (Array.isArray(t)) return $t(t);\n              }(t = Jt(this, Kt)) || function (t) {\n                if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t);\n              }(t) || function (t, n) {\n                if (t) {\n                  if (\"string\" == typeof t) return $t(t, n);\n                  var e = Object.prototype.toString.call(t).slice(8, -1);\n                  return \"Object\" === e && t.constructor && (e = t.constructor.name), \"Map\" === e || \"Set\" === e ? Array.from(t) : \"Arguments\" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e) ? $t(t, n) : void 0;\n                }\n              }(t) || function () {\n                throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n              }();\n              var t;\n            }\n          }, {\n            key: \"promises\",\n            get: function () {\n              return Jt(this, Kt).map(function (t) {\n                return t.then();\n              });\n            }\n          }]) && Ht(n.prototype, e), t;\n        }();\n\n        var Yt = function (t, n, e, r, i) {\n          var u = function (t, n, e, r) {\n            return function (i) {\n              return f = 0, l = 0, h = 0, p = function (t) {\n                return ((f * t + l) * t + h) * t;\n              }, v = function (t) {\n                return (3 * f * t + 2 * l) * t + h;\n              }, _ = function (t) {\n                return t >= 0 ? t : 0 - t;\n              }, f = 1 - (h = 3 * (u = t)) - (l = 3 * (e - u) - h), a = 1 - (c = 3 * (o = n)) - (s = 3 * (r - o) - c), function (t) {\n                return ((a * t + s) * t + c) * t;\n              }(function (t, n) {\n                var e, r, i, u, o, a;\n\n                for (i = t, a = 0; a < 8; a++) {\n                  if (u = p(i) - t, _(u) < n) return i;\n                  if (o = v(i), _(o) < 1e-6) break;\n                  i -= u / o;\n                }\n\n                if ((i = t) < (e = 0)) return e;\n                if (i > (r = 1)) return r;\n\n                for (; e < r;) {\n                  if (u = p(i), _(u - t) < n) return i;\n                  t > u ? e = i : r = i, i = .5 * (r - e) + e;\n                }\n\n                return i;\n              }(i, function (t) {\n                return 1 / (200 * t);\n              }(1)));\n\n              var u, o, a, s, c, f, l, h, p, v, _;\n            };\n          }(n, e, r, i);\n\n          return u.displayName = t, u.x1 = n, u.y1 = e, u.x2 = r, u.y2 = i, _t.formulas[t] = u;\n        },\n            Zt = function (t) {\n          return delete _t.formulas[t];\n        };\n\n        _t.filters.token = i;\n      }\n    },\n        n = {};\n\n    function e(r) {\n      if (n[r]) return n[r].exports;\n      var i = n[r] = {\n        exports: {}\n      };\n      return t[r](i, i.exports, e), i.exports;\n    }\n\n    return e.d = function (t, n) {\n      for (var r in n) e.o(n, r) && !e.o(t, r) && Object.defineProperty(t, r, {\n        enumerable: !0,\n        get: n[r]\n      });\n    }, e.g = function () {\n      if (\"object\" == typeof globalThis) return globalThis;\n\n      try {\n        return this || new Function(\"return this\")();\n      } catch (t) {\n        if (\"object\" == typeof window) return window;\n      }\n    }(), e.o = function (t, n) {\n      return Object.prototype.hasOwnProperty.call(t, n);\n    }, e.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, e(720);\n  }();\n});","map":{"version":3,"sources":["webpack://shifty/webpack/universalModuleDefinition","webpack://shifty/src/easing-functions.js","webpack://shifty/src/tweenable.js","webpack://shifty/src/token.js","webpack://shifty/src/interpolate.js","webpack://shifty/src/scene.js","webpack://shifty/src/bezier.js","webpack://shifty/src/index.js","webpack://shifty/webpack/bootstrap","webpack://shifty/webpack/startup","webpack:/shifty/webpack/runtime/define property getters","webpack://shifty/webpack/runtime/global","webpack:/shifty/webpack/runtime/hasOwnProperty shorthand","webpack:/shifty/webpack/runtime/make namespace object"],"names":["root","factory","exports","module","define","amd","self","linear","pos","easeInQuad","Math","pow","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","s","easeOutBack","easeInOutBack","elastic","swingFromTo","swingFrom","swingTo","bounce","bouncePast","easeFromTo","easeFrom","easeTo","DEFAULT_EASING","window","global","AFTER_TWEEN","AFTER_TWEEN_END","BEFORE_TWEEN","TWEEN_CREATED","TYPE_FUNCTION","TYPE_STRING","scheduleFunction","requestAnimationFrame","webkitRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","mozCancelRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","noop","listHead","listTail","formulas","easingFunctions","tweenProps","forPosition","currentState","originalState","targetState","duration","timestamp","easing","easedPosition","easingObjectProp","start","normalizedPosition","hasOneEase","call","key","processTween","tween","currentTime","_timestamp","_currentState","delay","_delay","_duration","_targetState","endTime","timeToCompute","hasEnded","offset","hasFilters","_filters","length","_render","_data","stop","_applyFilter","_originalState","_easing","processTweens","nextTweenToProcess","Tweenable","now","currentTween","_next","getCurrentTime","Date","scheduleUpdate","composeEasingObject","fromTweenParams","composedEasing","typeofEasing","prop","remove","previousTween","nextTween","_previous","defaultPromiseCtor","Promise","initialState","config","undefined","this","_config","_resolve","_reject","_start","_promiseCtor","setConfig","filterName","i","filter","_isPlaying","_pausedAtTime","get","_resume","promise","finish","render","step","data","attachment","_scheduleId","from","to","anyPropsAreStrings","currentProp","hasOwnProperty","filters","doesApply","push","onFulfilled","onRejected","_promise","resolve","reject","then","state","millisecond","max","gotoEnd","tweenable","setScheduleFunction","fn","R_NUMBER_COMPONENT","R_FORMAT_CHUNKS","R_UNFORMATTED_VALUES","R_RGB","number","source","comma","RegExp","R_RGB_PREFIX","R_HEX","VALUE_PLACEHOLDER","getFormatChunksFrom","rawValues","prefix","map","val","formattedString","chunks","match","charAt","unshift","join","hexToDec","hex","parseInt","replace","split","substr","convertHexToRGB","hexString","filterStringChunks","pattern","unfilteredString","patternMatches","filteredString","forEach","sanitizeObjectForHexProps","stateObject","sanitizeRGBChunk","numbers","rgbChunk","floor","getValuesFrom","signatures","propertyName","property","formatString","chunkNames","formatSignatures","extractPropertyChunks","extractedValues","chunkName","getValuesList","getFormattedValues","rawValue","toFixed","easingObject","tokenData","easingNames","defaultEasing","firstEasing","easingName","tweenCreated","_tokenData","getFormatSignatures","beforeTween","expandEasingObject","expandFormattedProperties","afterTween","collapseFormattedProperties","collapseEasingObject","mockTweenable","interpolate","position","current","set","name","interpolatedValues","Scene","tweenables","add","bind","index","indexOf","splice","some","isPlaying","pause","resume","p1x","p1y","ax","bx","cx","ay","by","cy","sampleCurveX","t","sampleCurveDerivativeX","fabs","n","x","epsilon","t0","t1","t2","x2","d2","sampleCurveY","solveCurveX","solveEpsilon","x1","y1","y2","setBezierFunction","cubicBezierTransition","getCubicBezierTransition","displayName","unsetBezierFunction","token","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","d","definition","o","Object","defineProperty","enumerable","g","globalThis","Function","e","obj","prototype","r","Symbol","toStringTag","value"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"shifty\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"shifty\"] = factory();\n\telse\n\t\troot[\"shifty\"] = factory();\n})(self, function() {\nreturn ","/*!\n * All equations are adapted from Thomas Fuchs'\n * [Scripty2](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/penner.js).\n *\n * Based on Easing Equations (c) 2003 [Robert\n * Penner](http://www.robertpenner.com/), all rights reserved. This work is\n * [subject to terms](http://www.robertpenner.com/easing_terms_of_use.html).\n */\n\n/*!\n *  TERMS OF USE - EASING EQUATIONS\n *  Open source under the BSD License.\n *  Easing Equations (c) 2003 Robert Penner, all rights reserved.\n */\n\n/**\n * @member shifty.Tweenable.formulas\n * @description A static Object of {@link shifty.easingFunction}s that can by\n * used by Shifty. The default values are defined in\n * [`easing-functions.js`](easing-functions.js.html), but you can add your own\n * {@link shifty.easingFunction}s by defining them as keys to this Object.\n *\n * Shifty ships with an implementation of [Robert Penner's easing\n * equations](http://robertpenner.com/easing/), as adapted from\n * [Scripty2](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/penner.js)'s\n * implementation.\n * <p data-height=\"934\" data-theme-id=\"0\" data-slug-hash=\"wqObdO\"\n * data-default-tab=\"js,result\" data-user=\"jeremyckahn\" data-embed-version=\"2\"\n * data-pen-title=\"Shifty - Easing formula names\" class=\"codepen\">See the Pen <a\n * href=\"https://codepen.io/jeremyckahn/pen/wqObdO/\">Shifty - Easing formula\n * names</a> by Jeremy Kahn (<a\n * href=\"https://codepen.io/jeremyckahn\">@jeremyckahn</a>) on <a\n * href=\"https://codepen.io\">CodePen</a>.</p>\n * <script async\n * src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n * @type {Object.<shifty.easingFunction>}\n * @static\n */\n\nexport const linear = pos => pos\n\nexport const easeInQuad = pos => Math.pow(pos, 2)\n\nexport const easeOutQuad = pos => -(Math.pow(pos - 1, 2) - 1)\n\nexport const easeInOutQuad = pos =>\n  (pos /= 0.5) < 1 ? 0.5 * Math.pow(pos, 2) : -0.5 * ((pos -= 2) * pos - 2)\n\nexport const easeInCubic = pos => Math.pow(pos, 3)\n\nexport const easeOutCubic = pos => Math.pow(pos - 1, 3) + 1\n\nexport const easeInOutCubic = pos =>\n  (pos /= 0.5) < 1 ? 0.5 * Math.pow(pos, 3) : 0.5 * (Math.pow(pos - 2, 3) + 2)\n\nexport const easeInQuart = pos => Math.pow(pos, 4)\n\nexport const easeOutQuart = pos => -(Math.pow(pos - 1, 4) - 1)\n\nexport const easeInOutQuart = pos =>\n  (pos /= 0.5) < 1\n    ? 0.5 * Math.pow(pos, 4)\n    : -0.5 * ((pos -= 2) * Math.pow(pos, 3) - 2)\n\nexport const easeInQuint = pos => Math.pow(pos, 5)\n\nexport const easeOutQuint = pos => Math.pow(pos - 1, 5) + 1\n\nexport const easeInOutQuint = pos =>\n  (pos /= 0.5) < 1 ? 0.5 * Math.pow(pos, 5) : 0.5 * (Math.pow(pos - 2, 5) + 2)\n\nexport const easeInSine = pos => -Math.cos(pos * (Math.PI / 2)) + 1\n\nexport const easeOutSine = pos => Math.sin(pos * (Math.PI / 2))\n\nexport const easeInOutSine = pos => -0.5 * (Math.cos(Math.PI * pos) - 1)\n\nexport const easeInExpo = pos => (pos === 0 ? 0 : Math.pow(2, 10 * (pos - 1)))\n\nexport const easeOutExpo = pos => (pos === 1 ? 1 : -Math.pow(2, -10 * pos) + 1)\n\nexport const easeInOutExpo = pos => {\n  if (pos === 0) {\n    return 0\n  }\n\n  if (pos === 1) {\n    return 1\n  }\n\n  if ((pos /= 0.5) < 1) {\n    return 0.5 * Math.pow(2, 10 * (pos - 1))\n  }\n\n  return 0.5 * (-Math.pow(2, -10 * --pos) + 2)\n}\n\nexport const easeInCirc = pos => -(Math.sqrt(1 - pos * pos) - 1)\n\nexport const easeOutCirc = pos => Math.sqrt(1 - Math.pow(pos - 1, 2))\n\nexport const easeInOutCirc = pos =>\n  (pos /= 0.5) < 1\n    ? -0.5 * (Math.sqrt(1 - pos * pos) - 1)\n    : 0.5 * (Math.sqrt(1 - (pos -= 2) * pos) + 1)\n\nexport const easeOutBounce = pos => {\n  if (pos < 1 / 2.75) {\n    return 7.5625 * pos * pos\n  } else if (pos < 2 / 2.75) {\n    return 7.5625 * (pos -= 1.5 / 2.75) * pos + 0.75\n  } else if (pos < 2.5 / 2.75) {\n    return 7.5625 * (pos -= 2.25 / 2.75) * pos + 0.9375\n  } else {\n    return 7.5625 * (pos -= 2.625 / 2.75) * pos + 0.984375\n  }\n}\n\nexport const easeInBack = pos => {\n  const s = 1.70158\n  return pos * pos * ((s + 1) * pos - s)\n}\n\nexport const easeOutBack = pos => {\n  const s = 1.70158\n  return (pos = pos - 1) * pos * ((s + 1) * pos + s) + 1\n}\n\nexport const easeInOutBack = pos => {\n  let s = 1.70158\n  if ((pos /= 0.5) < 1) {\n    return 0.5 * (pos * pos * (((s *= 1.525) + 1) * pos - s))\n  }\n  return 0.5 * ((pos -= 2) * pos * (((s *= 1.525) + 1) * pos + s) + 2)\n}\n\nexport const elastic = pos =>\n  -1 * Math.pow(4, -8 * pos) * Math.sin(((pos * 6 - 1) * (2 * Math.PI)) / 2) + 1\n\nexport const swingFromTo = pos => {\n  let s = 1.70158\n  return (pos /= 0.5) < 1\n    ? 0.5 * (pos * pos * (((s *= 1.525) + 1) * pos - s))\n    : 0.5 * ((pos -= 2) * pos * (((s *= 1.525) + 1) * pos + s) + 2)\n}\n\nexport const swingFrom = pos => {\n  const s = 1.70158\n  return pos * pos * ((s + 1) * pos - s)\n}\n\nexport const swingTo = pos => {\n  const s = 1.70158\n  return (pos -= 1) * pos * ((s + 1) * pos + s) + 1\n}\n\nexport const bounce = pos => {\n  if (pos < 1 / 2.75) {\n    return 7.5625 * pos * pos\n  } else if (pos < 2 / 2.75) {\n    return 7.5625 * (pos -= 1.5 / 2.75) * pos + 0.75\n  } else if (pos < 2.5 / 2.75) {\n    return 7.5625 * (pos -= 2.25 / 2.75) * pos + 0.9375\n  } else {\n    return 7.5625 * (pos -= 2.625 / 2.75) * pos + 0.984375\n  }\n}\n\nexport const bouncePast = pos => {\n  if (pos < 1 / 2.75) {\n    return 7.5625 * pos * pos\n  } else if (pos < 2 / 2.75) {\n    return 2 - (7.5625 * (pos -= 1.5 / 2.75) * pos + 0.75)\n  } else if (pos < 2.5 / 2.75) {\n    return 2 - (7.5625 * (pos -= 2.25 / 2.75) * pos + 0.9375)\n  } else {\n    return 2 - (7.5625 * (pos -= 2.625 / 2.75) * pos + 0.984375)\n  }\n}\n\nexport const easeFromTo = pos =>\n  (pos /= 0.5) < 1\n    ? 0.5 * Math.pow(pos, 4)\n    : -0.5 * ((pos -= 2) * Math.pow(pos, 3) - 2)\n\nexport const easeFrom = pos => Math.pow(pos, 4)\n\nexport const easeTo = pos => Math.pow(pos, 0.25)\n","import * as easingFunctions from './easing-functions'\n\n// CONSTANTS\nconst DEFAULT_EASING = 'linear'\nconst DEFAULT_DURATION = 500\nconst UPDATE_TIME = 1000 / 60\nconst root = typeof window !== 'undefined' ? window : global\n\nconst AFTER_TWEEN = 'afterTween'\nconst AFTER_TWEEN_END = 'afterTweenEnd'\nconst BEFORE_TWEEN = 'beforeTween'\nconst TWEEN_CREATED = 'tweenCreated'\nconst TYPE_FUNCTION = 'function'\nconst TYPE_STRING = 'string'\n\n// requestAnimationFrame() shim by Paul Irish (modified for Shifty)\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\nlet scheduleFunction =\n  root.requestAnimationFrame ||\n  root.webkitRequestAnimationFrame ||\n  root.oRequestAnimationFrame ||\n  root.msRequestAnimationFrame ||\n  (root.mozCancelRequestAnimationFrame && root.mozRequestAnimationFrame) ||\n  setTimeout\n\nconst noop = () => {}\n\nlet listHead = null\nlet listTail = null\n\n// Strictly used for testing\nexport const resetList = () => (listHead = listTail = null)\nexport const getListHead = () => listHead\nexport const getListTail = () => listTail\n\nconst formulas = { ...easingFunctions }\n\n/**\n * Calculates the interpolated tween values of an Object for a given\n * timestamp.\n * @param {number} forPosition The position to compute the state for.\n * @param {Object} currentState Current state properties.\n * @param {Object} originalState: The original state properties the Object is\n * tweening from.\n * @param {Object} targetState: The destination state properties the Object\n * is tweening to.\n * @param {number} duration: The length of the tween in milliseconds.\n * @param {number} timestamp: The UNIX epoch time at which the tween began.\n * @param {Object<string|Function>} easing: This Object's keys must correspond\n * to the keys in targetState.\n * @returns {Object}\n * @private\n */\nexport const tweenProps = (\n  forPosition,\n  currentState,\n  originalState,\n  targetState,\n  duration,\n  timestamp,\n  easing\n) => {\n  let easedPosition\n  let easingObjectProp\n  let start\n\n  const normalizedPosition =\n    forPosition < timestamp ? 0 : (forPosition - timestamp) / duration\n\n  let easingFn = null\n  let hasOneEase = false\n\n  if (easing && easing.call) {\n    hasOneEase = true\n    easedPosition = easing(normalizedPosition)\n  }\n\n  for (const key in currentState) {\n    if (!hasOneEase) {\n      easingObjectProp = easing[key]\n      easingFn = easingObjectProp.call\n        ? easingObjectProp\n        : formulas[easingObjectProp]\n\n      easedPosition = easingFn(normalizedPosition)\n    }\n\n    start = originalState[key]\n\n    currentState[key] = start + (targetState[key] - start) * easedPosition\n  }\n\n  return currentState\n}\n\nconst processTween = (tween, currentTime) => {\n  let timestamp = tween._timestamp\n  const currentState = tween._currentState\n  const delay = tween._delay\n\n  if (currentTime < timestamp + delay) {\n    return\n  }\n\n  let duration = tween._duration\n  const targetState = tween._targetState\n\n  const endTime = timestamp + delay + duration\n  let timeToCompute = currentTime > endTime ? endTime : currentTime\n  const hasEnded = timeToCompute >= endTime\n  const offset = duration - (endTime - timeToCompute)\n  const hasFilters = tween._filters.length > 0\n\n  if (hasEnded) {\n    tween._render(targetState, tween._data, offset)\n    return tween.stop(true)\n  }\n\n  if (hasFilters) {\n    tween._applyFilter(BEFORE_TWEEN)\n  }\n\n  // If the animation has not yet reached the start point (e.g., there was\n  // delay that has not yet completed), just interpolate the starting\n  // position of the tween.\n  if (timeToCompute < timestamp + delay) {\n    timestamp = duration = timeToCompute = 1\n  } else {\n    timestamp += delay\n  }\n\n  tweenProps(\n    timeToCompute,\n    currentState,\n    tween._originalState,\n    targetState,\n    duration,\n    timestamp,\n    tween._easing\n  )\n\n  if (hasFilters) {\n    tween._applyFilter(AFTER_TWEEN)\n  }\n\n  tween._render(currentState, tween._data, offset)\n}\n\n/**\n * Process all tweens currently managed by Shifty for the current tick. This\n * does not perform any timing or update scheduling; it is the logic that is\n * run *by* the scheduling functionality. Specifically, it computes the state\n * and calls all of the relevant {@link shifty.tweenConfig} functions supplied\n * to each of the tweens for the current point in time (as determined by {@link\n * shifty.Tweenable.now}.\n *\n * This is a low-level API that won't be needed in the majority of situations.\n * It is primarily useful as a hook for higher-level animation systems that are\n * built on top of Shifty. If you need this function, it is likely you need to\n * pass something like `() => {}` to {@link\n * shifty.Tweenable.setScheduleFunction}, override {@link shifty.Tweenable.now}\n * and manage the scheduling logic yourself.\n *\n * @method shifty.processTweens\n * @see https://github.com/jeremyckahn/shifty/issues/109\n */\nexport const processTweens = () => {\n  let nextTweenToProcess\n\n  const currentTime = Tweenable.now()\n  let currentTween = listHead\n\n  while (currentTween) {\n    nextTweenToProcess = currentTween._next\n    processTween(currentTween, currentTime)\n    currentTween = nextTweenToProcess\n  }\n}\n\nconst getCurrentTime = Date.now || (() => +new Date())\nlet now\n\n/**\n * Handles the update logic for one tick of a tween.\n * @param {number} [currentTimeOverride] Needed for accurate timestamp in\n * shifty.Tweenable#seek.\n * @private\n */\nexport const scheduleUpdate = () => {\n  now = getCurrentTime()\n  scheduleFunction.call(root, scheduleUpdate, UPDATE_TIME)\n\n  processTweens()\n}\n\n/**\n * Creates a usable easing Object from a string, a function or another easing\n * Object.  If `easing` is an Object, then this function clones it and fills\n * in the missing properties with `\"linear\"`.\n *\n * If the tween has only one easing across all properties, that function is\n * returned directly.\n * @param {Object.<string|Function>} fromTweenParams\n * @param {Object|string|Function} [easing]\n * @param {Object} [composedEasing] Reused composedEasing object (used internally)\n * @return {Object.<string|Function>|Function}\n * @private\n */\nexport const composeEasingObject = (\n  fromTweenParams,\n  easing = DEFAULT_EASING,\n  composedEasing = {}\n) => {\n  let typeofEasing = typeof easing\n\n  if (formulas[easing]) {\n    return formulas[easing]\n  }\n\n  if (typeofEasing === TYPE_STRING || typeofEasing === TYPE_FUNCTION) {\n    for (const prop in fromTweenParams) {\n      composedEasing[prop] = easing\n    }\n  } else {\n    for (const prop in fromTweenParams) {\n      composedEasing[prop] = easing[prop] || DEFAULT_EASING\n    }\n  }\n\n  return composedEasing\n}\n\n// Private declarations used below\n\nconst remove = ((previousTween, nextTween) => tween => {\n  // Adapted from:\n  // https://github.com/trekhleb/javascript-algorithms/blob/7c9601df3e8ca4206d419ce50b88bd13ff39deb6/src/data-structures/doubly-linked-list/DoublyLinkedList.js#L73-L121\n  if (tween === listHead) {\n    listHead = tween._next\n\n    if (listHead) {\n      listHead._previous = null\n    } else {\n      listTail = null\n    }\n  } else if (tween === listTail) {\n    listTail = tween._previous\n\n    if (listTail) {\n      listTail._next = null\n    } else {\n      listHead = null\n    }\n  } else {\n    previousTween = tween._previous\n    nextTween = tween._next\n\n    previousTween._next = nextTween\n    nextTween._previous = previousTween\n  }\n\n  // Clean up any references in case the tween is restarted later.\n  tween._previous = tween._next = null\n})()\n\nconst defaultPromiseCtor = typeof Promise === 'function' ? Promise : null\n\nexport class Tweenable {\n  /**\n   * @method shifty.Tweenable.now\n   * @static\n   * @returns {number} The current timestamp.\n   */\n  static now = () => now\n\n  /**\n   * @param {Object} [initialState={}] The values that the initial tween should\n   * start at if a `from` value is not provided to {@link\n   * shifty.Tweenable#tween} or {@link shifty.Tweenable#setConfig}.\n   * @param {shifty.tweenConfig} [config] Configuration object to be passed to\n   * {@link shifty.Tweenable#setConfig}.\n   * @constructs shifty.Tweenable\n   */\n  constructor(initialState = {}, config = undefined) {\n    this._config = {}\n    this._data = {}\n    this._delay = 0\n    this._filters = []\n    this._next = null\n    this._previous = null\n    this._timestamp = null\n    this._resolve = null\n    this._reject = null\n    this._currentState = initialState || {}\n    this._originalState = {}\n    this._targetState = {}\n    this._start = noop\n    this._render = noop\n    this._promiseCtor = defaultPromiseCtor\n\n    // To prevent unnecessary calls to setConfig do not set default\n    // configuration here.  Only set default configuration immediately before\n    // tweening if none has been set.\n    if (config) {\n      this.setConfig(config)\n    }\n  }\n\n  /**\n   * Applies a filter to Tweenable instance.\n   * @param {string} filterName The name of the filter to apply.\n   * @private\n   */\n  _applyFilter(filterName) {\n    for (let i = this._filters.length; i > 0; i--) {\n      const filterType = this._filters[i - i]\n      const filter = filterType[filterName]\n\n      if (filter) {\n        filter(this)\n      }\n    }\n  }\n\n  /**\n   * Configure and start a tween. If this {@link shifty.Tweenable}'s instance\n   * is already running, then it will stop playing the old tween and\n   * immediately play the new one.\n   * @method shifty.Tweenable#tween\n   * @param {shifty.tweenConfig} [config] Gets passed to {@link\n   * shifty.Tweenable#setConfig}.\n   * @return {shifty.Tweenable}\n   */\n  tween(config = undefined) {\n    if (this._isPlaying) {\n      this.stop()\n    }\n\n    if (config || !this._config) {\n      this.setConfig(config)\n    }\n\n    this._pausedAtTime = null\n    this._timestamp = Tweenable.now()\n    this._start(this.get(), this._data)\n\n    if (this._delay) {\n      this._render(this._currentState, this._data, 0)\n    }\n\n    return this._resume(this._timestamp)\n  }\n\n  /**\n   * Configure a tween that will start at some point in the future. Aside from\n   * `delay`, `from`, and `to`, each configuration option will automatically\n   * default to the same option used in the preceding tween of this {@link\n   * shifty.Tweenable} instance.\n   * @method shifty.Tweenable#setConfig\n   * @param {shifty.tweenConfig} [config={}]\n   * @return {shifty.Tweenable}\n   */\n  setConfig(config = {}) {\n    const { _config } = this\n\n    for (const key in config) {\n      _config[key] = config[key]\n    }\n\n    // Configuration options to reuse from previous tweens\n    const {\n      promise = this._promiseCtor,\n      start = noop,\n      finish,\n      render = this._config.step || noop,\n\n      // Legacy option. Superseded by `render`.\n      step = noop,\n    } = _config\n\n    // Attach something to this Tweenable instance (e.g.: a DOM element, an\n    // object, a string, etc.);\n    this._data = _config.data || _config.attachment || this._data\n\n    // Init the internal state\n    this._isPlaying = false\n    this._pausedAtTime = null\n    this._scheduleId = null\n    this._delay = config.delay || 0\n    this._start = start\n    this._render = render || step\n    this._duration = _config.duration || DEFAULT_DURATION\n    this._promiseCtor = promise\n\n    if (finish) {\n      this._resolve = finish\n    }\n\n    const { from, to = {} } = config\n    const { _currentState, _originalState, _targetState } = this\n\n    for (const key in from) {\n      _currentState[key] = from[key]\n    }\n\n    let anyPropsAreStrings = false\n\n    for (const key in _currentState) {\n      const currentProp = _currentState[key]\n\n      if (!anyPropsAreStrings && typeof currentProp === TYPE_STRING) {\n        anyPropsAreStrings = true\n      }\n\n      _originalState[key] = currentProp\n\n      // Ensure that there is always something to tween to.\n      _targetState[key] = to.hasOwnProperty(key) ? to[key] : currentProp\n    }\n\n    this._easing = composeEasingObject(\n      this._currentState,\n      _config.easing,\n      this._easing\n    )\n\n    this._filters.length = 0\n\n    if (anyPropsAreStrings) {\n      for (const key in Tweenable.filters) {\n        if (Tweenable.filters[key].doesApply(this)) {\n          this._filters.push(Tweenable.filters[key])\n        }\n      }\n\n      this._applyFilter(TWEEN_CREATED)\n    }\n\n    return this\n  }\n\n  /**\n   * Overrides any `finish` function passed via a {@link shifty.tweenConfig}.\n   * @method shifty.Tweenable#then\n   * @param {function} onFulfilled Receives {@link shifty.promisedData} as the\n   * first parameter.\n   * @param {function} onRejected Receives {@link shifty.promisedData} as the\n   * first parameter.\n   * @return {external:Promise}\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\n   */\n  then(onFulfilled, onRejected) {\n    this._promise = new this._promiseCtor((resolve, reject) => {\n      this._resolve = resolve\n      this._reject = reject\n    })\n\n    return this._promise.then(onFulfilled, onRejected)\n  }\n\n  /**\n   * @method shifty.Tweenable#catch\n   * @param {function} onRejected Receives {@link shifty.promisedData} as the\n   * first parameter.\n   * @return {external:Promise}\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch\n   */\n  catch(onRejected) {\n    return this.then().catch(onRejected)\n  }\n\n  /**\n   * @method shifty.Tweenable#get\n   * @return {Object} The current state.\n   */\n  get() {\n    return { ...this._currentState }\n  }\n\n  /**\n   * Set the current state.\n   * @method shifty.Tweenable#set\n   * @param {Object} state The state to set.\n   */\n  set(state) {\n    this._currentState = state\n  }\n\n  /**\n   * Pause a tween. Paused tweens can be resumed from the point at which they\n   * were paused. If a tween is not running, this is a no-op.\n   * @method shifty.Tweenable#pause\n   * @return {shifty.Tweenable}\n   */\n  pause() {\n    if (!this._isPlaying) {\n      return\n    }\n\n    this._pausedAtTime = Tweenable.now()\n    this._isPlaying = false\n    remove(this)\n\n    return this\n  }\n\n  /**\n   * Resume a paused tween.\n   * @method shifty.Tweenable#resume\n   * @return {shifty.Tweenable}\n   */\n  resume() {\n    return this._resume()\n  }\n\n  _resume(currentTime = Tweenable.now()) {\n    if (this._timestamp === null) {\n      return this.tween()\n    }\n\n    if (this._isPlaying) {\n      return this._promise\n    }\n\n    if (this._pausedAtTime) {\n      this._timestamp += currentTime - this._pausedAtTime\n      this._pausedAtTime = null\n    }\n\n    this._isPlaying = true\n\n    if (listHead === null) {\n      listHead = this\n      listTail = this\n    } else {\n      this._previous = listTail\n      listTail._next = this\n\n      listTail = this\n    }\n\n    return this\n  }\n\n  /**\n   * Move the state of the animation to a specific point in the tween's\n   * timeline.  If the animation is not running, this will cause {@link\n   * shifty.renderFunction} handlers to be called.\n   * @method shifty.Tweenable#seek\n   * @param {millisecond} millisecond The millisecond of the animation to seek\n   * to.  This must not be less than `0`.\n   * @return {shifty.Tweenable}\n   */\n  seek(millisecond) {\n    millisecond = Math.max(millisecond, 0)\n    const currentTime = Tweenable.now()\n\n    if (this._timestamp + millisecond === 0) {\n      return this\n    }\n\n    this._timestamp = currentTime - millisecond\n\n    // Make sure that any render handlers are run.\n    processTween(this, currentTime)\n\n    return this\n  }\n\n  /**\n   * Stops a tween. If a tween is not running, this is a no-op. This method\n   * does not cancel the tween {@link external:Promise}. For that, use {@link\n   * shifty.Tweenable#cancel}.\n   * @param {boolean} [gotoEnd] If `false`, the tween just stops at its current\n   * state.  If `true`, the tweened object's values are instantly set to the\n   * target values.\n   * @method shifty.Tweenable#stop\n   * @return {shifty.Tweenable}\n   */\n  stop(gotoEnd = false) {\n    if (!this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = false\n\n    remove(this)\n\n    const hasFilters = this._filters.length > 0\n\n    if (gotoEnd) {\n      if (hasFilters) {\n        this._applyFilter(BEFORE_TWEEN)\n      }\n\n      tweenProps(\n        1,\n        this._currentState,\n        this._originalState,\n        this._targetState,\n        1,\n        0,\n        this._easing\n      )\n\n      if (hasFilters) {\n        this._applyFilter(AFTER_TWEEN)\n        this._applyFilter(AFTER_TWEEN_END)\n      }\n    }\n\n    if (this._resolve) {\n      this._resolve({\n        data: this._data,\n        state: this._currentState,\n        tweenable: this,\n      })\n    }\n\n    this._resolve = null\n    this._reject = null\n\n    const { _currentState, _originalState, _targetState } = this\n\n    for (const key in _currentState) {\n      _originalState[key] = _targetState[key] = _currentState[key]\n    }\n\n    return this\n  }\n\n  /**\n   * {@link shifty.Tweenable#stop}s a tween and also `reject`s its {@link\n   * external:Promise}. If a tween is not running, this is a no-op. Prevents\n   * calling any provided `finish` function.\n   * @param {boolean} [gotoEnd] Is propagated to {@link shifty.Tweenable#stop}.\n   * @method shifty.Tweenable#cancel\n   * @return {shifty.Tweenable}\n   * @see https://github.com/jeremyckahn/shifty/issues/122\n   */\n  cancel(gotoEnd = false) {\n    const { _currentState, _data, _isPlaying } = this\n\n    if (!_isPlaying) {\n      return this\n    }\n\n    if (this._reject) {\n      this._reject({\n        data: _data,\n        state: _currentState,\n        tweenable: this,\n      })\n    }\n\n    this._resolve = null\n    this._reject = null\n\n    return this.stop(gotoEnd)\n  }\n\n  /**\n   * Whether or not a tween is running.\n   * @method shifty.Tweenable#isPlaying\n   * @return {boolean}\n   */\n  isPlaying() {\n    return this._isPlaying\n  }\n\n  /**\n   * @method shifty.Tweenable#setScheduleFunction\n   * @param {shifty.scheduleFunction} scheduleFunction\n   * @deprecated Will be removed in favor of {@link shifty.Tweenable.setScheduleFunction} in 3.0.\n   */\n  setScheduleFunction(scheduleFunction) {\n    Tweenable.setScheduleFunction(scheduleFunction)\n  }\n\n  /**\n   * Get and optionally set the data that gets passed as `data` to {@link\n   * shifty.promisedData}, {@link shifty.startFunction} and {@link\n   * shifty.renderFunction}.\n   * @param {Object} [data]\n   * @method shifty.Tweenable#data\n   * @return {Object} The internally stored `data`.\n   */\n  data(data = null) {\n    if (data) {\n      this._data = { ...data }\n    }\n\n    return this._data\n  }\n\n  /**\n   * `delete` all \"own\" properties.  Call this when the {@link\n   * shifty.Tweenable} instance is no longer needed to free memory.\n   * @method shifty.Tweenable#dispose\n   */\n  dispose() {\n    for (const prop in this) {\n      delete this[prop]\n    }\n  }\n}\n\n// TODO: Make these proper static methods.\n\n/**\n * Set a custom schedule function.\n *\n * By default,\n * [`requestAnimationFrame`](https://developer.mozilla.org/en-US/docs/Web/API/window.requestAnimationFrame)\n * is used if available, otherwise\n * [`setTimeout`](https://developer.mozilla.org/en-US/docs/Web/API/Window.setTimeout)\n * is used.\n * @method shifty.Tweenable.setScheduleFunction\n * @param {shifty.scheduleFunction} fn The function to be\n * used to schedule the next frame to be rendered.\n * @return {shifty.scheduleFunction} The function that was set.\n */\nTweenable.setScheduleFunction = fn => (scheduleFunction = fn)\n\nTweenable.formulas = formulas\n\n/**\n * The {@link shifty.filter}s available for use.  These filters are\n * automatically applied at tween-time by Shifty. You can define your own\n * {@link shifty.filter}s and attach them to this object.\n * @member shifty.Tweenable.filters\n * @type {Object.<shifty.filter>}\n */\nTweenable.filters = {}\n\n/**\n * @method shifty.tween\n * @param {shifty.tweenConfig} [config={}]\n * @description Standalone convenience method that functions identically to\n * {@link shifty.Tweenable#tween}.  You can use this to create tweens without\n * needing to set up a {@link shifty.Tweenable} instance.\n *\n * ```\n * import { tween } from 'shifty';\n *\n * tween({ from: { x: 0 }, to: { x: 10 } }).then(\n *   () => console.log('All done!')\n * );\n * ```\n *\n * @returns {shifty.Tweenable} A new {@link shifty.Tweenable} instance.\n */\nexport function tween(config = {}) {\n  const tweenable = new Tweenable()\n  tweenable.tween(config)\n\n  // This is strictly a legacy shim from when this function returned a Promise.\n  // REMOVE THIS LINE IN THE NEXT MAJOR VERSION\n  tweenable.tweenable = tweenable\n\n  return tweenable\n}\n\nscheduleUpdate()\n","const R_NUMBER_COMPONENT = /(\\d|-|\\.)/\nconst R_FORMAT_CHUNKS = /([^\\-0-9.]+)/g\nconst R_UNFORMATTED_VALUES = /[0-9.-]+/g\nconst R_RGB = (() => {\n  const number = R_UNFORMATTED_VALUES.source\n  const comma = /,\\s*/.source\n\n  return new RegExp(`rgb\\\\(${number}${comma}${number}${comma}${number}\\\\)`, 'g')\n})()\nconst R_RGB_PREFIX = /^.*\\(/\nconst R_HEX = /#([0-9]|[a-f]){3,6}/gi\nconst VALUE_PLACEHOLDER = 'VAL'\n\n// HELPERS\n\n/**\n * @param {Array.number} rawValues\n * @param {string} prefix\n *\n * @return {Array.<string>}\n * @private\n */\nconst getFormatChunksFrom = (rawValues, prefix) =>\n  rawValues.map((val, i) => `_${prefix}_${i}`)\n\n/**\n * @param {string} formattedString\n *\n * @return {string}\n * @private\n */\nconst getFormatStringFrom = formattedString => {\n  let chunks = formattedString.match(R_FORMAT_CHUNKS)\n\n  if (!chunks) {\n    // chunks will be null if there were no tokens to parse in\n    // formattedString (for example, if formattedString is '2').  Coerce\n    // chunks to be useful here.\n    chunks = ['', '']\n\n    // If there is only one chunk, assume that the string is a number\n    // followed by a token...\n    // NOTE: This may be an unwise assumption.\n  } else if (\n    chunks.length === 1 ||\n    // ...or if the string starts with a number component (\".\", \"-\", or a\n    // digit)...\n    formattedString.charAt(0).match(R_NUMBER_COMPONENT)\n  ) {\n    // ...prepend an empty string here to make sure that the formatted number\n    // is properly replaced by VALUE_PLACEHOLDER\n    chunks.unshift('')\n  }\n\n  return chunks.join(VALUE_PLACEHOLDER)\n}\n\n/**\n * Convert a base-16 number to base-10.\n *\n * @param {number|string} hex The value to convert.\n *\n * @returns {number} The base-10 equivalent of `hex`.\n * @private\n */\nfunction hexToDec(hex) {\n  return parseInt(hex, 16)\n}\n\n/**\n * Convert a hexadecimal string to an array with three items, one each for\n * the red, blue, and green decimal values.\n *\n * @param {string} hex A hexadecimal string.\n *\n * @returns {Array.<number>} The converted Array of RGB values if `hex` is a\n * valid string, or an Array of three 0's.\n * @private\n */\nconst hexToRGBArray = hex => {\n  hex = hex.replace(/#/, '')\n\n  // If the string is a shorthand three digit hex notation, normalize it to\n  // the standard six digit notation\n  if (hex.length === 3) {\n    hex = hex.split('')\n    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2]\n  }\n\n  return [\n    hexToDec(hex.substr(0, 2)),\n    hexToDec(hex.substr(2, 2)),\n    hexToDec(hex.substr(4, 2)),\n  ]\n}\n\n/**\n * @param {string} hexString\n *\n * @return {string}\n * @private\n */\nconst convertHexToRGB = hexString =>\n  `rgb(${hexToRGBArray(hexString).join(',')})`\n\n/**\n * TODO: Can this be rewritten to leverage String#replace more efficiently?\n * Runs a filter operation on all chunks of a string that match a RegExp.\n *\n * @param {RegExp} pattern\n * @param {string} unfilteredString\n * @param {function(string)} filter\n *\n * @return {string}\n * @private\n */\nconst filterStringChunks = (pattern, unfilteredString, filter) => {\n  const patternMatches = unfilteredString.match(pattern)\n  let filteredString = unfilteredString.replace(pattern, VALUE_PLACEHOLDER)\n\n  if (patternMatches) {\n    patternMatches.forEach(\n      match =>\n        (filteredString = filteredString.replace(\n          VALUE_PLACEHOLDER,\n          filter(match)\n        ))\n    )\n  }\n\n  return filteredString\n}\n\n/**\n * @param {string} str\n *\n * @return {string}\n * @private\n */\nconst sanitizeHexChunksToRGB = str =>\n  filterStringChunks(R_HEX, str, convertHexToRGB)\n\n/**\n * Convert all hex color values within a string to an rgb string.\n *\n * @param {Object} stateObject\n * @private\n */\nconst sanitizeObjectForHexProps = stateObject => {\n  for (const prop in stateObject) {\n    const currentProp = stateObject[prop]\n\n    if (typeof currentProp === 'string' && currentProp.match(R_HEX)) {\n      stateObject[prop] = sanitizeHexChunksToRGB(currentProp)\n    }\n  }\n}\n\n/**\n * @param {string} rgbChunk\n *\n * @return {string}\n * @private\n */\nconst sanitizeRGBChunk = rgbChunk => {\n  const numbers = rgbChunk.match(R_UNFORMATTED_VALUES).map(Math.floor)\n  const prefix = rgbChunk.match(R_RGB_PREFIX)[0]\n\n  return `${prefix}${numbers.join(',')})`\n}\n\n/**\n * Check for floating point values within rgb strings and round them.\n *\n * @param {string} formattedString\n *\n * @return {string}\n * @private\n */\nconst sanitizeRGBChunks = formattedString =>\n  filterStringChunks(R_RGB, formattedString, sanitizeRGBChunk)\n\n/**\n * Note: It's the duty of the caller to convert the Array elements of the\n * return value into numbers.  This is a performance optimization.\n *\n * @param {string} formattedString\n *\n * @return {Array.<string>|null}\n * @private\n */\nconst getValuesFrom = formattedString =>\n  formattedString.match(R_UNFORMATTED_VALUES)\n\n/**\n * @param {Object} stateObject\n *\n * @return {Object} An Object of formatSignatures that correspond to\n * the string properties of stateObject.\n * @private\n */\nconst getFormatSignatures = stateObject => {\n  const signatures = {}\n\n  for (const propertyName in stateObject) {\n    const property = stateObject[propertyName]\n\n    if (typeof property === 'string') {\n      signatures[propertyName] = {\n        formatString: getFormatStringFrom(property),\n        chunkNames: getFormatChunksFrom(getValuesFrom(property), propertyName),\n      }\n    }\n  }\n\n  return signatures\n}\n\n/**\n * @param {Object} stateObject\n * @param {Object} formatSignatures\n * @private\n */\nconst expandFormattedProperties = (stateObject, formatSignatures) => {\n  for (const propertyName in formatSignatures) {\n    getValuesFrom(stateObject[propertyName]).forEach(\n      (number, i) =>\n        (stateObject[formatSignatures[propertyName].chunkNames[i]] = +number)\n    )\n\n    delete stateObject[propertyName]\n  }\n}\n\n/**\n * @param {Object} stateObject\n * @param {Array.<string>} chunkNames\n *\n * @return {Object} The extracted value chunks.\n * @private\n */\nconst extractPropertyChunks = (stateObject, chunkNames) => {\n  const extractedValues = {}\n\n  chunkNames.forEach(chunkName => {\n    extractedValues[chunkName] = stateObject[chunkName]\n    delete stateObject[chunkName]\n  })\n\n  return extractedValues\n}\n\n/**\n * @param {Object} stateObject\n * @param {Array.<string>} chunkNames\n *\n * @return {Array.<number>}\n * @private\n */\nconst getValuesList = (stateObject, chunkNames) =>\n  chunkNames.map(chunkName => stateObject[chunkName])\n\n/**\n * @param {string} formatString\n * @param {Array.<number>} rawValues\n *\n * @return {string}\n * @private\n */\nconst getFormattedValues = (formatString, rawValues) => {\n  rawValues.forEach(\n    rawValue =>\n      (formatString = formatString.replace(\n        VALUE_PLACEHOLDER,\n        +rawValue.toFixed(4)\n      ))\n  )\n\n  return formatString\n}\n\n/**\n * @param {Object} stateObject\n * @param {Object} formatSignatures\n * @private\n */\nconst collapseFormattedProperties = (stateObject, formatSignatures) => {\n  for (const prop in formatSignatures) {\n    const { chunkNames, formatString } = formatSignatures[prop]\n\n    const currentProp = getFormattedValues(\n      formatString,\n      getValuesList(extractPropertyChunks(stateObject, chunkNames), chunkNames)\n    )\n\n    stateObject[prop] = sanitizeRGBChunks(currentProp)\n  }\n}\n\n/**\n * @param {Object} easingObject\n * @param {Object} tokenData\n * @private\n */\nconst expandEasingObject = (easingObject, tokenData) => {\n  for (const prop in tokenData) {\n    const { chunkNames } = tokenData[prop]\n    const easing = easingObject[prop]\n\n    if (typeof easing === 'string') {\n      const easingNames = easing.split(' ')\n      const defaultEasing = easingNames[easingNames.length - 1]\n\n      chunkNames.forEach(\n        (chunkName, i) =>\n          (easingObject[chunkName] = easingNames[i] || defaultEasing)\n      )\n    } else {\n      // easing is a function\n      chunkNames.forEach(chunkName => (easingObject[chunkName] = easing))\n    }\n\n    delete easingObject[prop]\n  }\n}\n\n/**\n * @param {Object} easingObject\n * @param {Object} tokenData\n * @private\n */\nconst collapseEasingObject = (easingObject, tokenData) => {\n  for (const prop in tokenData) {\n    const { chunkNames } = tokenData[prop]\n    const firstEasing = easingObject[chunkNames[0]]\n\n    if (typeof firstEasing === 'string') {\n      easingObject[prop] = chunkNames\n        .map(chunkName => {\n          const easingName = easingObject[chunkName]\n          delete easingObject[chunkName]\n\n          return easingName\n        })\n        .join(' ')\n    } else {\n      // firstEasing is a function\n      easingObject[prop] = firstEasing\n    }\n  }\n}\n\nexport const doesApply = tweenable => {\n  for (const key in tweenable._currentState) {\n    if (typeof tweenable._currentState[key] === 'string') {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport function tweenCreated(tweenable) {\n  const { _currentState, _originalState, _targetState } = tweenable\n\n  ;[_currentState, _originalState, _targetState].forEach(\n    sanitizeObjectForHexProps\n  )\n\n  tweenable._tokenData = getFormatSignatures(_currentState)\n}\n\nexport function beforeTween(tweenable) {\n  const {\n    _currentState,\n    _originalState,\n    _targetState,\n    _easing,\n    _tokenData,\n  } = tweenable\n\n  expandEasingObject(_easing, _tokenData)\n  ;[_currentState, _originalState, _targetState].forEach(state =>\n    expandFormattedProperties(state, _tokenData)\n  )\n}\n\nexport function afterTween(tweenable) {\n  const {\n    _currentState,\n    _originalState,\n    _targetState,\n    _easing,\n    _tokenData,\n  } = tweenable\n  ;[_currentState, _originalState, _targetState].forEach(state =>\n    collapseFormattedProperties(state, _tokenData)\n  )\n\n  collapseEasingObject(_easing, _tokenData)\n}\n","import { Tweenable, composeEasingObject, tweenProps } from './tweenable'\n\n// Fake a Tweenable and patch some internals.  This approach allows us to\n// skip uneccessary processing and object recreation, cutting down on garbage\n// collection pauses.\nconst mockTweenable = new Tweenable()\nconst { filters } = Tweenable\n\n/**\n * Compute the midpoint of two Objects.  This method effectively calculates a\n * specific frame of animation that {@link shifty.Tweenable#tween} does many times\n * over the course of a full tween.\n *\n * ```\n * import { interpolate } from 'shifty';\n *\n * const interpolatedValues = interpolate({\n *     width: '100px',\n *     opacity: 0,\n *     color: '#fff'\n *   }, {\n *     width: '200px',\n *     opacity: 1,\n *     color: '#000'\n *   },\n *   0.5\n * );\n *\n * console.log(interpolatedValues); // Logs: {opacity: 0.5, width: \"150px\", color: \"rgb(127,127,127)\"}\n * ```\n *\n * @method shifty.interpolate\n * @param {Object} from The starting values to tween from.\n * @param {Object} to The ending values to tween to.\n * @param {number} position The normalized position value (between `0.0` and\n * `1.0`) to interpolate the values between `from` and `to` for.  `from`\n * represents `0` and `to` represents `1`.\n * @param {Object.<string|shifty.easingFunction>|string|shifty.easingFunction}\n * easing The easing curve(s) to calculate the midpoint against.  You can\n * reference any easing function attached to {@link shifty.Tweenable.formulas},\n * or provide the {@link shifty.easingFunction}(s) directly.  If omitted, this\n * defaults to \"linear\".\n * @param {number} [delay=0] Optional delay to pad the beginning of the\n * interpolated tween with.  This increases the range of `position` from (`0`\n * through `1`) to (`0` through `1 + delay`).  So, a delay of `0.5` would\n * increase all valid values of `position` to numbers between `0` and `1.5`.\n * @return {Object}\n */\nexport const interpolate = (from, to, position, easing, delay = 0) => {\n  const current = { ...from }\n  const easingObject = composeEasingObject(from, easing)\n\n  mockTweenable._filters.length = 0\n\n  mockTweenable.set({})\n  mockTweenable._currentState = current\n  mockTweenable._originalState = from\n  mockTweenable._targetState = to\n  mockTweenable._easing = easingObject\n\n  for (const name in filters) {\n    if (filters[name].doesApply(mockTweenable)) {\n      mockTweenable._filters.push(filters[name])\n    }\n  }\n\n  // Any defined value transformation must be applied\n  mockTweenable._applyFilter('tweenCreated')\n  mockTweenable._applyFilter('beforeTween')\n\n  const interpolatedValues = tweenProps(\n    position,\n    current,\n    from,\n    to,\n    1,\n    delay,\n    easingObject\n  )\n\n  // Transform data in interpolatedValues back into its original format\n  mockTweenable._applyFilter('afterTween')\n\n  return interpolatedValues\n}\n","export class Scene {\n  #tweenables = []\n\n  /**\n   * The {@link shifty.Scene} class provides a way to control groups of {@link\n   * shifty.Tweenable}s. It is lightweight, minimalistic, and meant to provide\n   * performant {@link shifty.Tweenable} batch control that users of Shifty\n   * might otherwise have to implement themselves. It is **not** a robust\n   * timeline solution, and it does **not** provide utilities for sophisticated\n   * animation sequencing or orchestration. If that is what you need for your\n   * project, consider using a more robust tool such as\n   * [Rekapi](http://jeremyckahn.github.io/rekapi/doc/) (a timeline layer built\n   * on top of Shifty).\n   *\n   * Please be aware that {@link shifty.Scene} does **not** perform any\n   * automatic cleanup. If you want to remove a {@link shifty.Tweenable} from a\n   * {@link shifty.Scene}, you must do so explicitly with either {@link\n   * shifty.Scene#remove} or {@link shifty.Scene#empty}.\n   *\n   * <p class=\"codepen\" data-height=\"677\" data-theme-id=\"0\" data-default-tab=\"js,result\" data-user=\"jeremyckahn\" data-slug-hash=\"qvZKbe\" style=\"height: 677px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;\" data-pen-title=\"Shifty Scene Demo\">\n   * <span>See the Pen <a href=\"https://codepen.io/jeremyckahn/pen/qvZKbe/\">\n   * Shifty Scene Demo</a> by Jeremy Kahn (<a href=\"https://codepen.io/jeremyckahn\">@jeremyckahn</a>)\n   * on <a href=\"https://codepen.io\">CodePen</a>.</span>\n   * </p>\n   * <script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n   * @param {...shifty.Tweenable} tweenables\n   * @see https://codepen.io/jeremyckahn/pen/qvZKbe\n   * @constructs shifty.Scene\n   */\n  constructor(...tweenables) {\n    tweenables.forEach(this.add.bind(this))\n  }\n\n  /**\n   * A copy of the internal {@link shifty.Tweenable}s array.\n   * @member shifty.Scene#tweenables\n   * @type {Array.<shifty.Tweenable>}\n   * @readonly\n   */\n  get tweenables() {\n    return [...this.#tweenables]\n  }\n\n  /**\n   * The {@link external:Promise}s for all {@link shifty.Tweenable}s in this\n   * {@link shifty.Scene} that have been configured with {@link\n   * shifty.Tweenable#setConfig}. Note that each call of {@link\n   * shifty.Scene#play} or {@link shifty.Scene#pause} creates new {@link\n   * external:Promise}s:\n   *\n   *     const scene = new Scene(new Tweenable());\n   *     scene.play();\n   *\n   *     Promise.all(scene.promises).then(() =>\n   *       // Plays the scene again upon completion, but a new promise is\n   *       // created so this line only runs once.\n   *       scene.play()\n   *     );\n   *\n   * @member shifty.Scene#promises\n   * @type {Array.<external:Promise>}\n   * @readonly\n   */\n  get promises() {\n    return this.#tweenables.map(tweenable => tweenable.then())\n  }\n\n  /**\n   * Add a {@link shifty.Tweenable} to be controlled by this {@link\n   * shifty.Scene}.\n   * @method shifty.Scene#add\n   * @param {shifty.Tweenable} tweenable\n   * @return {shifty.Tweenable} The {@link shifty.Tweenable} that was added.\n   */\n  add(tweenable) {\n    this.#tweenables.push(tweenable)\n\n    return tweenable\n  }\n\n  /**\n   * Remove a {@link shifty.Tweenable} that is controlled by this {@link\n   * shifty.Scene}.\n   * @method shifty.Scene#remove\n   * @param {shifty.Tweenable} tweenable\n   * @return {shifty.Tweenable} The {@link shifty.Tweenable} that was removed.\n   */\n  remove(tweenable) {\n    const index = this.#tweenables.indexOf(tweenable)\n\n    if (~index) {\n      this.#tweenables.splice(index, 1)\n    }\n\n    return tweenable\n  }\n\n  /**\n   * [Remove]{@link shifty.Scene#remove} all {@link shifty.Tweenable}s in this {@link\n   * shifty.Scene}.\n   * @method shifty.Scene#empty\n   * @return {Array.<shifty.Tweenable>} The {@link shifty.Tweenable}s that were\n   * removed.\n   */\n  empty() {\n    // Deliberate of the tweenables getter here to create a temporary array\n    return this.tweenables.map(this.remove.bind(this))\n  }\n\n  /**\n   * Is `true` if any {@link shifty.Tweenable} in this {@link shifty.Scene} is\n   * playing.\n   * @method shifty.Scene#isPlaying\n   * @return {boolean}\n   */\n  isPlaying() {\n    return this.#tweenables.some(tweenable => tweenable.isPlaying())\n  }\n\n  /**\n   * Play all {@link shifty.Tweenable}s from their beginning.\n   * @method shifty.Scene#play\n   * @return {shifty.Scene}\n   */\n  play() {\n    this.#tweenables.forEach(tweenable => tweenable.tween())\n\n    return this\n  }\n\n  /**\n   * {@link shifty.Tweenable#pause} all {@link shifty.Tweenable}s in this\n   * {@link shifty.Scene}.\n   * @method shifty.Scene#pause\n   * @return {shifty.Scene}\n   */\n  pause() {\n    this.#tweenables.forEach(tweenable => tweenable.pause())\n    return this\n  }\n\n  /**\n   * {@link shifty.Tweenable#resume} all paused {@link shifty.Tweenable}s.\n   * @method shifty.Scene#resume\n   * @return {shifty.Scene}\n   */\n  resume() {\n    this.#tweenables.forEach(tweenable => tweenable.resume())\n\n    return this\n  }\n\n  /**\n   * {@link shifty.Tweenable#stop} all {@link shifty.Tweenable}s in this {@link\n   * shifty.Scene}.\n   * @method shifty.Scene#stop\n   * @param {boolean} [gotoEnd]\n   * @return {shifty.Scene}\n   */\n  stop(gotoEnd) {\n    this.#tweenables.forEach(tweenable => tweenable.stop(gotoEnd))\n    return this\n  }\n}\n","import { Tweenable } from './tweenable'\n\n/**\n * The Bezier magic in this file is adapted/copied almost wholesale from\n * [Scripty2](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/cubic-bezier.js),\n * which was adapted from Apple code (which probably came from\n * [here](http://opensource.apple.com/source/WebCore/WebCore-955.66/platform/graphics/UnitBezier.h)).\n * Special thanks to Apple and Thomas Fuchs for much of this code.\n */\n\n/**\n *  Copyright (c) 2006 Apple Computer, Inc. All rights reserved.\n *\n *  Redistribution and use in source and binary forms, with or without\n *  modification, are permitted provided that the following conditions are met:\n *\n *  1. Redistributions of source code must retain the above copyright notice,\n *  this list of conditions and the following disclaimer.\n *\n *  2. Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation\n *  and/or other materials provided with the distribution.\n *\n *  3. Neither the name of the copyright holder(s) nor the names of any\n *  contributors may be used to endorse or promote products derived from\n *  this software without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n *  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n *  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n *  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n *  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n *  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n *  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n *  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n *  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n// port of webkit cubic bezier handling by http://www.netzgesta.de/dev/\n\n/**\n * @param {number} t\n * @param {number} p1x\n * @param {number} p1y\n * @param {number} p2x\n * @param {number} p2y\n * @param {number} duration\n * @returns {Function}\n * @private\n */\nfunction cubicBezierAtTime(t, p1x, p1y, p2x, p2y, duration) {\n  let ax = 0,\n    bx = 0,\n    cx = 0,\n    ay = 0,\n    by = 0,\n    cy = 0\n\n  const sampleCurveX = t => ((ax * t + bx) * t + cx) * t\n\n  const sampleCurveY = t => ((ay * t + by) * t + cy) * t\n\n  const sampleCurveDerivativeX = t => (3 * ax * t + 2 * bx) * t + cx\n\n  const solveEpsilon = duration => 1 / (200 * duration)\n\n  const fabs = n => (n >= 0 ? n : 0 - n)\n\n  const solveCurveX = (x, epsilon) => {\n    let t0, t1, t2, x2, d2, i\n\n    for (t2 = x, i = 0; i < 8; i++) {\n      x2 = sampleCurveX(t2) - x\n\n      if (fabs(x2) < epsilon) {\n        return t2\n      }\n\n      d2 = sampleCurveDerivativeX(t2)\n\n      if (fabs(d2) < 1e-6) {\n        break\n      }\n\n      t2 = t2 - x2 / d2\n    }\n\n    t0 = 0\n    t1 = 1\n    t2 = x\n\n    if (t2 < t0) {\n      return t0\n    }\n\n    if (t2 > t1) {\n      return t1\n    }\n\n    while (t0 < t1) {\n      x2 = sampleCurveX(t2)\n\n      if (fabs(x2 - x) < epsilon) {\n        return t2\n      }\n\n      if (x > x2) {\n        t0 = t2\n      } else {\n        t1 = t2\n      }\n\n      t2 = (t1 - t0) * 0.5 + t0\n    }\n\n    return t2 // Failure.\n  }\n\n  const solve = (x, epsilon) => sampleCurveY(solveCurveX(x, epsilon))\n\n  cx = 3 * p1x\n  bx = 3 * (p2x - p1x) - cx\n  ax = 1 - cx - bx\n  cy = 3 * p1y\n  by = 3 * (p2y - p1y) - cy\n  ay = 1 - cy - by\n\n  return solve(t, solveEpsilon(duration))\n}\n// End ported code\n\n/**\n *  GetCubicBezierTransition(x1, y1, x2, y2) -> Function.\n *\n *  Generates a transition easing function that is compatible\n *  with WebKit's CSS transitions `-webkit-transition-timing-function`\n *  CSS property.\n *\n *  The W3C has more information about CSS3 transition timing functions:\n *  http://www.w3.org/TR/css3-transitions/#transition-timing-function_tag\n *\n *  @param {number} x1\n *  @param {number} y1\n *  @param {number} x2\n *  @param {number} y2\n *  @return {Function}\n *  @private\n */\nconst getCubicBezierTransition = (x1, y1, x2, y2) => pos =>\n  cubicBezierAtTime(pos, x1, y1, x2, y2, 1)\n\n/**\n * Create a Bezier easing function and attach it to {@link\n * shifty.Tweenable.formulas}.  This function gives you total control over the\n * easing curve.  Matthew Lein's [Ceaser](http://matthewlein.com/ceaser/) is a\n * useful tool for visualizing the curves you can make with this function.\n * @method shifty.setBezierFunction\n * @param {string} name The name of the easing curve.  Overwrites the old\n * easing function on {@link shifty.Tweenable.formulas} if it exists.\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @return {shifty.easingFunction} The {@link shifty.easingFunction} that was\n * attached to {@link shifty.Tweenable.formulas}.\n */\nexport const setBezierFunction = (name, x1, y1, x2, y2) => {\n  const cubicBezierTransition = getCubicBezierTransition(x1, y1, x2, y2)\n\n  cubicBezierTransition.displayName = name\n  cubicBezierTransition.x1 = x1\n  cubicBezierTransition.y1 = y1\n  cubicBezierTransition.x2 = x2\n  cubicBezierTransition.y2 = y2\n\n  return (Tweenable.formulas[name] = cubicBezierTransition)\n}\n\n/**\n * `delete` an easing function from {@link shifty.Tweenable.formulas}.  Be\n * careful with this method, as it `delete`s whatever easing formula matches\n * `name` (which means you can delete standard Shifty easing functions).\n * @method shifty.unsetBezierFunction\n * @param {string} name The name of the easing function to delete.\n * @return {boolean} Whether or not the functions was `delete`d.\n */\nexport const unsetBezierFunction = name => delete Tweenable.formulas[name]\n","/**\n * @namespace shifty\n */\n\nimport { processTweens, Tweenable, tween } from './tweenable'\nimport * as token from './token'\n\nTweenable.filters.token = token\n\nexport { processTweens, Tweenable, tween }\nexport { interpolate } from './interpolate'\nexport { Scene } from './scene'\nexport { setBezierFunction, unsetBezierFunction } from './bezier'\n\n/**\n * @external Promise\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise}\n */\n\n/**\n * @external thenable\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then}\n */\n\n/**\n * @callback {Function} shifty.easingFunction\n * @param {number} position The normalized (0-1) position of the tween.\n * @return {number} The curve-adjusted value.\n */\n\n/**\n * @callback {Function} shifty.startFunction\n * @param {Object} state The current state of the tween.\n * @param {Object|undefined} [data] User-defined data provided via a {@link\n * shifty.tweenConfig}.\n */\n\n/**\n * @callback {Function} shifty.finishFunction\n * @param {shifty.promisedData} promisedData\n */\n\n/**\n * Gets called for every tick of the tween.  This function is not called on the\n * final tick of the animation.\n * @callback {Function} shifty.renderFunction\n * @param {Object} state The current state of the tween.\n * @param {Object|undefined} [data] User-defined data provided via a {@link\n * shifty.tweenConfig}.\n * @param {number} timeElapsed The time elapsed since the start of the tween.\n */\n\n/**\n * @callback shifty.scheduleFunction\n * @param {Function} callback\n * @param {number} timeout\n */\n\n/**\n * @typedef {Object} shifty.tweenConfig\n * @property {Object} [from] Starting position.  If omitted, {@link\n * shifty.Tweenable#get} is used.\n * @property {Object} [to] Ending position.  The keys of this Object should\n * match those of `to`.\n * @property {number} [duration] How many milliseconds to animate for.\n * @property {number} [delay] How many milliseconds to wait before starting the\n * tween.\n * @property {shifty.startFunction} [start] Executes when the tween begins.\n * @property {shifty.finishFunction} [finish] Executes when the tween\n * completes. This will get overridden by {@link shifty.Tweenable#then} if that\n * is called, and it will not fire if {@link shifty.Tweenable#cancel} is\n * called.\n * @property {shifty.renderFunction} [render] Executes on every tick. Shifty\n * assumes a [retained mode](https://en.wikipedia.org/wiki/Retained_mode)\n * rendering environment, which in practice means that `render` only gets\n * called when the tween state changes. Importantly, this means that `render`\n * is _not_ called when a tween is not animating (for instance, when it is\n * paused or waiting to start via the `delay` option). This works naturally\n * with DOM environments, but you may need to account for this design in more\n * custom environments such as `<canvas>`.\n *\n * Legacy property name: `step`.\n * @property\n * {Object.<string|shifty.easingFunction>|string|shifty.easingFunction}\n * [easing] Easing curve name(s) or {@link shifty.easingFunction}(s) to apply\n * to the properties of the tween.  If this is an Object, the keys should\n * correspond to `to`/`from`.  You can learn more about this in the {@tutorial\n * easing-function-in-depth} tutorial.\n * @property {Object} [data] Data that is passed to {@link\n * shifty.startFunction}, {@link shifty.renderFunction}, and {@link\n * shifty.promisedData}. Legacy property name: `attachment`.\n * @property {Function} [promise] Promise constructor for when you want\n * to use Promise library or polyfill Promises in unsupported environments.\n */\n\n/**\n * @typedef {Object} shifty.promisedData\n * @property {Object} state The current state of the tween.\n * @property {Object} data The `data` Object that the tween was configured with.\n * @property {shifty.Tweenable} tweenable The {@link shifty.Tweenable} instance to\n * which the tween belonged.\n */\n\n/**\n * Is called when a tween is created to determine if a filter is needed.\n * Filters are only added to a tween when it is created so that they are not\n * unnecessarily processed if they don't apply during an update tick.\n * @callback {Function} shifty.doesApplyFilter\n * @param {shifty.Tweenable} tweenable The {@link shifty.Tweenable} instance.\n * @return {boolean}\n */\n\n/**\n * Is called when a tween is created.  This should perform any setup needed by\n * subsequent per-tick calls to {@link shifty.beforeTween} and {@link\n * shifty.afterTween}.\n * @callback {Function} shifty.tweenCreatedFilter\n * @param {shifty.Tweenable} tweenable The {@link shifty.Tweenable} instance.\n */\n\n/**\n * Is called right before a tween is processed in a tick.\n * @callback {Function} shifty.beforeTweenFilter\n * @param {shifty.Tweenable} tweenable The {@link shifty.Tweenable} instance.\n */\n\n/**\n * Is called right after a tween is processed in a tick.\n * @callback {Function} shifty.afterTweenFilter\n * @param {shifty.Tweenable} tweenable The {@link shifty.Tweenable} instance.\n */\n\n/**\n * An Object that contains functions that are called at key points in a tween's\n * lifecycle.  Shifty can only process `Number`s internally, but filters can\n * expand support for any type of data.  This is the mechanism that powers\n * [string interpolation]{@tutorial string-interpolation}.\n * @typedef {Object} shifty.filter\n * @property {shifty.doesApplyFilter} doesApply Is called when a tween is\n * created.\n * @property {shifty.tweenCreatedFilter} tweenCreated Is called when a tween is\n * created.\n * @property {shifty.beforeTweenFilter} beforeTween Is called right before a\n * tween starts.\n * @property {shifty.afterTweenFilter} afterTween Is called right after a tween\n * ends.\n */\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(720);\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""},"metadata":{},"sourceType":"script"}